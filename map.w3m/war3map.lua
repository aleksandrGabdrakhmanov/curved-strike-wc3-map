gg_rct_curved_team_1_attack_1_right = nil
gg_rct_curved_1_1_build = nil
gg_rct_curved_1_1_main = nil
gg_rct_curved_1_1_mine = nil
gg_rct_curved_1_1_spawn = nil
gg_rct_curved_1_1_worker = nil
gg_rct_curved_1_2_build = nil
gg_rct_curved_1_2_main = nil
gg_rct_curved_1_2_mine = nil
gg_rct_curved_1_2_spawn = nil
gg_rct_curved_1_2_worker = nil
gg_rct_curved_1_3_build = nil
gg_rct_curved_1_3_main = nil
gg_rct_curved_1_3_mine = nil
gg_rct_curved_1_3_spawn = nil
gg_rct_curved_1_3_worker = nil
gg_rct_curved_1_4_build = nil
gg_rct_curved_1_4_main = nil
gg_rct_curved_1_4_mine = nil
gg_rct_curved_1_4_spawn = nil
gg_rct_curved_1_4_worker = nil
gg_rct_curved_1_5_build = nil
gg_rct_curved_1_5_main = nil
gg_rct_curved_1_5_mine = nil
gg_rct_curved_1_5_spawn = nil
gg_rct_curved_1_5_worker = nil
gg_rct_curved_2_1_build = nil
gg_rct_curved_2_1_main = nil
gg_rct_curved_2_1_mine = nil
gg_rct_curved_2_1_spawn = nil
gg_rct_curved_2_1_worker = nil
gg_rct_curved_2_2_build = nil
gg_rct_curved_2_2_main = nil
gg_rct_curved_2_2_mine = nil
gg_rct_curved_2_2_spawn = nil
gg_rct_curved_2_2_worker = nil
gg_rct_curved_2_3_build = nil
gg_rct_curved_2_3_main = nil
gg_rct_curved_2_3_mine = nil
gg_rct_curved_2_3_spawn = nil
gg_rct_curved_2_3_worker = nil
gg_rct_curved_2_4_build = nil
gg_rct_curved_2_4_main = nil
gg_rct_curved_2_4_mine = nil
gg_rct_curved_2_4_spawn = nil
gg_rct_curved_2_4_worker = nil
gg_rct_curved_2_5_build = nil
gg_rct_curved_2_5_main = nil
gg_rct_curved_2_5_mine = nil
gg_rct_curved_2_5_spawn = nil
gg_rct_curved_2_5_worker = nil
gg_rct_curved_team_1_base = nil
gg_rct_curved_team_1_tower = nil
gg_rct_curved_team_2_base = nil
gg_rct_curved_team_2_tower = nil
gg_rct_united_1_1_build = nil
gg_rct_united_1_1_main = nil
gg_rct_united_1_1_mine = nil
gg_rct_united_1_1_spawn = nil
gg_rct_united_1_1_worker = nil
gg_rct_united_1_2_build = nil
gg_rct_united_1_2_main = nil
gg_rct_united_1_2_mine = nil
gg_rct_united_1_2_spawn = nil
gg_rct_united_1_2_worker = nil
gg_rct_united_1_3_build = nil
gg_rct_united_1_3_main = nil
gg_rct_united_1_3_mine = nil
gg_rct_united_1_3_spawn = nil
gg_rct_united_1_3_worker = nil
gg_rct_united_1_4_build = nil
gg_rct_united_1_4_main = nil
gg_rct_united_1_4_mine = nil
gg_rct_united_1_4_spawn = nil
gg_rct_united_1_4_worker = nil
gg_rct_united_1_5_build = nil
gg_rct_united_1_5_main = nil
gg_rct_united_1_5_mine = nil
gg_rct_united_1_5_spawn = nil
gg_rct_united_1_5_worker = nil
gg_rct_united_2_1_build = nil
gg_rct_united_2_1_main = nil
gg_rct_united_2_1_mine = nil
gg_rct_united_2_1_spawn = nil
gg_rct_united_2_1_worker = nil
gg_rct_united_2_2_build = nil
gg_rct_united_2_2_main = nil
gg_rct_united_2_2_mine = nil
gg_rct_united_2_2_spawn = nil
gg_rct_united_2_2_worker = nil
gg_rct_united_2_3_build = nil
gg_rct_united_2_3_main = nil
gg_rct_united_2_3_mine = nil
gg_rct_united_2_3_spawn = nil
gg_rct_united_2_3_worker = nil
gg_rct_united_2_4_build = nil
gg_rct_united_2_4_main = nil
gg_rct_united_2_4_mine = nil
gg_rct_united_2_4_spawn = nil
gg_rct_united_2_4_worker = nil
gg_rct_united_2_5_build = nil
gg_rct_united_2_5_main = nil
gg_rct_united_2_5_mine = nil
gg_rct_united_2_5_spawn = nil
gg_rct_united_2_5_worker = nil
gg_rct_united_team_1_base = nil
gg_rct_united_team_1_tower = nil
gg_rct_united_team_2_base = nil
gg_rct_united_team_2_tower = nil
gg_rct_curved_1_1_laboratory = nil
gg_rct_curved_1_2_laboratory = nil
gg_rct_curved_1_3_laboratory = nil
gg_rct_curved_1_4_laboratory = nil
gg_rct_curved_1_5_laboratory = nil
gg_rct_curved_2_1_laboratory = nil
gg_rct_curved_2_2_laboratory = nil
gg_rct_curved_2_3_laboratory = nil
gg_rct_curved_2_4_laboratory = nil
gg_rct_curved_2_5_laboratory = nil
gg_rct_united_1_1_laboratory = nil
gg_rct_united_1_2_laboratory = nil
gg_rct_united_1_3_laboratory = nil
gg_rct_united_1_4_laboratory = nil
gg_rct_united_1_5_laboratory = nil
gg_rct_united_2_5_laboratory = nil
gg_rct_united_2_4_laboratory = nil
gg_rct_united_2_3_laboratory = nil
gg_rct_united_2_2_laboratory = nil
gg_rct_united_2_1_laboratory = nil
gg_rct_curved_team_2_attack_1_left = nil
gg_rct_united_team_1_attack_1_right = nil
gg_rct_united_team_1_attack_2_down = nil
gg_rct_united_team_1_attack_3_up = nil
gg_rct_united_team_1_attack_4_right = nil
gg_rct_united_team_2_attack_1_left = nil
gg_rct_united_team_2_attack_2_down = nil
gg_rct_united_team_2_attack_3_up = nil
gg_rct_united_team_2_attack_4_left = nil
gg_rct_royal_1_1_build_1 = nil
gg_rct_royal_1_1_build_2 = nil
gg_rct_royal_1_1_main = nil
gg_rct_royal_1_1_mine = nil
gg_rct_royal_1_1_spawn_1 = nil
gg_rct_royal_1_1_spawn_2 = nil
gg_rct_royal_team_1_base_1 = nil
gg_rct_royal_team_1_base_2 = nil
gg_rct_royal_1_1_laboratory = nil
gg_rct_royal_2_1_build_1 = nil
gg_rct_royal_2_1_build_2 = nil
gg_rct_royal_2_1_main = nil
gg_rct_royal_2_1_mine = nil
gg_rct_royal_2_1_spawn_1 = nil
gg_rct_royal_2_1_spawn_2 = nil
gg_rct_royal_team_2_base_1 = nil
gg_rct_royal_team_2_base_2 = nil
gg_rct_royal_2_1_laboratory = nil
gg_rct_royal_global_attack_1_right_2 = nil
gg_rct_royal_global_attack_9_down_1 = nil
gg_rct_royal_1_1_worker_1 = nil
gg_rct_royal_1_1_worker_2 = nil
gg_rct_royal_2_1_worker_1 = nil
gg_rct_royal_2_1_worker_2 = nil
gg_rct_royal_global_attack_2_down_2 = nil
gg_rct_royal_global_attack_3_down_2 = nil
gg_rct_royal_global_attack_4_left_2 = nil
gg_rct_royal_global_attack_5_left_2 = nil
gg_rct_royal_global_attack_6_up_2 = nil
gg_rct_royal_global_attack_7_up_2 = nil
gg_rct_royal_global_attack_8_right_2 = nil
gg_rct_royal_global_attack_10_right_1 = nil
gg_rct_royal_global_attack_11_right_1 = nil
gg_rct_royal_global_attack_12_up_1 = nil
gg_rct_royal_global_attack_13_up_1 = nil
gg_rct_royal_global_attack_14_left_1 = nil
gg_rct_royal_global_attack_15_left_1 = nil
gg_rct_royal_global_attack_16_down_1 = nil
gg_rct_royal_3_1_build_1 = nil
gg_rct_royal_3_1_build_2 = nil
gg_rct_royal_3_1_main = nil
gg_rct_royal_3_1_mine = nil
gg_rct_royal_3_1_spawn_1 = nil
gg_rct_royal_3_1_spawn_2 = nil
gg_rct_royal_team_3_base_1 = nil
gg_rct_royal_team_3_base_2 = nil
gg_rct_royal_3_1_laboratory = nil
gg_rct_royal_3_1_worker_1 = nil
gg_rct_royal_3_1_worker_2 = nil
gg_rct_royal_4_1_build_1 = nil
gg_rct_royal_4_1_build_2 = nil
gg_rct_royal_4_1_main = nil
gg_rct_royal_4_1_mine = nil
gg_rct_royal_4_1_spawn_1 = nil
gg_rct_royal_4_1_spawn_2 = nil
gg_rct_royal_team_4_base_2 = nil
gg_rct_royal_4_1_laboratory = nil
gg_rct_royal_4_1_worker_1 = nil
gg_rct_royal_4_1_worker_2 = nil
gg_rct_royal_team_4_base_1 = nil
gg_rct_royal_5_1_build_1 = nil
gg_rct_royal_5_1_build_2 = nil
gg_rct_royal_5_1_main = nil
gg_rct_royal_5_1_mine = nil
gg_rct_royal_5_1_spawn_1 = nil
gg_rct_royal_5_1_spawn_2 = nil
gg_rct_royal_team_5_base_2 = nil
gg_rct_royal_5_1_laboratory = nil
gg_rct_royal_5_1_worker_1 = nil
gg_rct_royal_5_1_worker_2 = nil
gg_rct_royal_team_5_base_1 = nil
gg_rct_royal_6_1_build_1 = nil
gg_rct_royal_6_1_build_2 = nil
gg_rct_royal_6_1_main = nil
gg_rct_royal_6_1_mine = nil
gg_rct_royal_6_1_spawn_1 = nil
gg_rct_royal_6_1_spawn_2 = nil
gg_rct_royal_team_6_base_1 = nil
gg_rct_royal_team_6_base_2 = nil
gg_rct_royal_6_1_laboratory = nil
gg_rct_royal_6_1_worker_1 = nil
gg_rct_royal_6_1_worker_2 = nil
gg_rct_royal_7_1_build_1 = nil
gg_rct_royal_7_1_build_2 = nil
gg_rct_royal_7_1_main = nil
gg_rct_royal_7_1_mine = nil
gg_rct_royal_7_1_spawn_1 = nil
gg_rct_royal_7_1_spawn_2 = nil
gg_rct_royal_team_7_base_2 = nil
gg_rct_royal_7_1_laboratory = nil
gg_rct_royal_7_1_worker_1 = nil
gg_rct_royal_7_1_worker_2 = nil
gg_rct_royal_team_7_base_1 = nil
gg_rct_royal_8_1_build_1 = nil
gg_rct_royal_8_1_build_2 = nil
gg_rct_royal_8_1_main = nil
gg_rct_royal_8_1_mine = nil
gg_rct_royal_8_1_spawn_1 = nil
gg_rct_royal_8_1_spawn_2 = nil
gg_rct_royal_team_8_base_1 = nil
gg_rct_royal_team_8_base_2 = nil
gg_rct_royal_8_1_laboratory = nil
gg_rct_royal_8_1_worker_1 = nil
gg_rct_royal_8_1_worker_2 = nil
gg_rct_royal_9_1_build_1 = nil
gg_rct_royal_9_1_build_2 = nil
gg_rct_royal_9_1_main = nil
gg_rct_royal_9_1_mine = nil
gg_rct_royal_9_1_spawn_1 = nil
gg_rct_royal_9_1_spawn_2 = nil
gg_rct_royal_team_9_base_2 = nil
gg_rct_royal_9_1_laboratory = nil
gg_rct_royal_9_1_worker_1 = nil
gg_rct_royal_9_1_worker_2 = nil
gg_rct_royal_team_9_base_1 = nil
gg_rct_royal_10_1_build_1 = nil
gg_rct_royal_10_1_build_2 = nil
gg_rct_royal_10_1_main = nil
gg_rct_royal_10_1_mine = nil
gg_rct_royal_10_1_spawn_1 = nil
gg_rct_royal_10_1_spawn_2 = nil
gg_rct_royal_team_10_base_2 = nil
gg_rct_royal_10_1_laboratory = nil
gg_rct_royal_10_1_worker_1 = nil
gg_rct_royal_10_1_worker_2 = nil
gg_rct_royal_team_10_base_1 = nil
function InitGlobals()
end

function CreateRegions()
local we

gg_rct_curved_team_1_attack_1_right = Rect(-9408.0, 1568.0, 800.0, 7008.0)
gg_rct_curved_1_1_build = Rect(-11136.0, 7168.0, -9984.0, 8832.0)
gg_rct_curved_1_1_main = Rect(-11648.0, 7680.0, -11136.0, 8192.0)
gg_rct_curved_1_1_mine = Rect(-11648.0, 7168.0, -11136.0, 7680.0)
gg_rct_curved_1_1_spawn = Rect(-9408.0, 3456.0, -8256.0, 5120.0)
gg_rct_curved_1_1_worker = Rect(-11136.0, 7168.0, -9984.0, 8832.0)
gg_rct_curved_1_2_build = Rect(-11136.0, 5312.0, -9984.0, 6976.0)
gg_rct_curved_1_2_main = Rect(-11648.0, 5824.0, -11136.0, 6336.0)
gg_rct_curved_1_2_mine = Rect(-11648.0, 5312.0, -11136.0, 5824.0)
gg_rct_curved_1_2_spawn = Rect(-9408.0, 3456.0, -8256.0, 5120.0)
gg_rct_curved_1_2_worker = Rect(-11136.0, 5312.0, -9984.0, 6976.0)
gg_rct_curved_1_3_build = Rect(-11136.0, 3456.0, -9984.0, 5120.0)
gg_rct_curved_1_3_main = Rect(-11648.0, 3968.0, -11136.0, 4480.0)
gg_rct_curved_1_3_mine = Rect(-11648.0, 3456.0, -11136.0, 3968.0)
gg_rct_curved_1_3_spawn = Rect(-9408.0, 3456.0, -8256.0, 5120.0)
gg_rct_curved_1_3_worker = Rect(-11136.0, 3456.0, -9984.0, 5120.0)
gg_rct_curved_1_4_build = Rect(-11136.0, 1600.0, -9984.0, 3264.0)
gg_rct_curved_1_4_main = Rect(-11648.0, 2112.0, -11136.0, 2624.0)
gg_rct_curved_1_4_mine = Rect(-11648.0, 1600.0, -11136.0, 2112.0)
gg_rct_curved_1_4_spawn = Rect(-9408.0, 3456.0, -8256.0, 5120.0)
gg_rct_curved_1_4_worker = Rect(-11136.0, 1600.0, -9984.0, 3264.0)
gg_rct_curved_1_5_build = Rect(-11136.0, -256.0, -9984.0, 1408.0)
gg_rct_curved_1_5_main = Rect(-11648.0, 256.0, -11136.0, 768.0)
gg_rct_curved_1_5_mine = Rect(-11648.0, -256.0, -11136.0, 256.0)
gg_rct_curved_1_5_spawn = Rect(-9408.0, 3456.0, -8256.0, 5120.0)
gg_rct_curved_1_5_worker = Rect(-11136.0, -256.0, -9984.0, 1408.0)
gg_rct_curved_2_1_build = Rect(2496.0, 7168.0, 3648.0, 8832.0)
gg_rct_curved_2_1_main = Rect(3648.0, 7680.0, 4160.0, 8192.0)
gg_rct_curved_2_1_mine = Rect(3648.0, 7168.0, 4160.0, 7680.0)
gg_rct_curved_2_1_spawn = Rect(768.0, 3456.0, 1920.0, 5120.0)
gg_rct_curved_2_1_worker = Rect(2496.0, 7168.0, 3648.0, 8832.0)
gg_rct_curved_2_2_build = Rect(2496.0, 5312.0, 3648.0, 6976.0)
gg_rct_curved_2_2_main = Rect(3648.0, 5824.0, 4160.0, 6336.0)
gg_rct_curved_2_2_mine = Rect(3648.0, 5312.0, 4160.0, 5824.0)
gg_rct_curved_2_2_spawn = Rect(768.0, 3456.0, 1920.0, 5120.0)
gg_rct_curved_2_2_worker = Rect(2496.0, 5312.0, 3648.0, 6976.0)
gg_rct_curved_2_3_build = Rect(2496.0, 3456.0, 3648.0, 5120.0)
gg_rct_curved_2_3_main = Rect(3648.0, 3968.0, 4160.0, 4480.0)
gg_rct_curved_2_3_mine = Rect(3648.0, 3456.0, 4160.0, 3968.0)
gg_rct_curved_2_3_spawn = Rect(768.0, 3456.0, 1920.0, 5120.0)
gg_rct_curved_2_3_worker = Rect(2496.0, 3456.0, 3648.0, 5120.0)
gg_rct_curved_2_4_build = Rect(2496.0, 1600.0, 3648.0, 3264.0)
gg_rct_curved_2_4_main = Rect(3648.0, 2112.0, 4160.0, 2624.0)
gg_rct_curved_2_4_mine = Rect(3648.0, 1600.0, 4160.0, 2112.0)
gg_rct_curved_2_4_spawn = Rect(768.0, 3456.0, 1920.0, 5120.0)
gg_rct_curved_2_4_worker = Rect(2496.0, 1600.0, 3648.0, 3264.0)
gg_rct_curved_2_5_build = Rect(2496.0, -256.0, 3648.0, 1408.0)
gg_rct_curved_2_5_main = Rect(3648.0, 256.0, 4160.0, 768.0)
gg_rct_curved_2_5_mine = Rect(3648.0, -256.0, 4160.0, 256.0)
gg_rct_curved_2_5_spawn = Rect(768.0, 3456.0, 1920.0, 5120.0)
gg_rct_curved_2_5_worker = Rect(2496.0, -256.0, 3648.0, 1408.0)
gg_rct_curved_team_1_base = Rect(-8224.0, 3968.0, -7616.0, 4608.0)
gg_rct_curved_team_1_tower = Rect(-6272.0, 4032.0, -5760.0, 4544.0)
gg_rct_curved_team_2_base = Rect(160.0, 3968.0, 768.0, 4608.0)
gg_rct_curved_team_2_tower = Rect(-1664.0, 4032.0, -1152.0, 4544.0)
gg_rct_united_1_1_build = Rect(-13568.0, -4480.0, -11904.0, -2944.0)
gg_rct_united_1_1_main = Rect(-14080.0, -3456.0, -13568.0, -2944.0)
gg_rct_united_1_1_mine = Rect(-15104.0, -3456.0, -14592.0, -2944.0)
gg_rct_united_1_1_spawn = Rect(-11552.0, -4480.0, -9888.0, -2944.0)
gg_rct_united_1_1_worker = Rect(-13376.0, -3232.0, -13280.0, -3136.0)
gg_rct_united_1_2_build = Rect(-13248.0, -4480.0, -11904.0, -3392.0)
gg_rct_united_1_2_main = Rect(-14080.0, -4064.0, -13568.0, -3552.0)
gg_rct_united_1_2_mine = Rect(-15104.0, -4064.0, -14592.0, -3552.0)
gg_rct_united_1_2_spawn = Rect(-11232.0, -4480.0, -9888.0, -3392.0)
gg_rct_united_1_2_worker = Rect(-12928.0, -3776.0, -12832.0, -3680.0)
gg_rct_united_1_3_build = Rect(-12800.0, -5024.0, -11904.0, -3904.0)
gg_rct_united_1_3_main = Rect(-14080.0, -4736.0, -13568.0, -4224.0)
gg_rct_united_1_3_mine = Rect(-15104.0, -4736.0, -14592.0, -4224.0)
gg_rct_united_1_3_spawn = Rect(-10784.0, -5024.0, -9888.0, -3904.0)
gg_rct_united_1_3_worker = Rect(-12416.0, -4512.0, -12288.0, -4384.0)
gg_rct_united_1_4_build = Rect(-13248.0, -5504.0, -11904.0, -4416.0)
gg_rct_united_1_4_main = Rect(-14080.0, -5376.0, -13568.0, -4864.0)
gg_rct_united_1_4_mine = Rect(-15104.0, -5376.0, -14592.0, -4864.0)
gg_rct_united_1_4_spawn = Rect(-11232.0, -5504.0, -9888.0, -4416.0)
gg_rct_united_1_4_worker = Rect(-12960.0, -5248.0, -12864.0, -5152.0)
gg_rct_united_1_5_build = Rect(-13568.0, -5952.0, -11904.0, -4416.0)
gg_rct_united_1_5_main = Rect(-14080.0, -5952.0, -13568.0, -5440.0)
gg_rct_united_1_5_mine = Rect(-15104.0, -5952.0, -14592.0, -5440.0)
gg_rct_united_1_5_spawn = Rect(-11552.0, -5952.0, -9888.0, -4416.0)
gg_rct_united_1_5_worker = Rect(-13376.0, -5760.0, -13280.0, -5664.0)
gg_rct_united_2_1_build = Rect(4224.0, -5952.0, 5888.0, -4416.0)
gg_rct_united_2_1_main = Rect(5888.0, -5952.0, 6400.0, -5440.0)
gg_rct_united_2_1_mine = Rect(6912.0, -5952.0, 7424.0, -5440.0)
gg_rct_united_2_1_spawn = Rect(2208.0, -5952.0, 3872.0, -4416.0)
gg_rct_united_2_1_worker = Rect(5600.0, -5760.0, 5696.0, -5664.0)
gg_rct_united_2_2_build = Rect(4224.0, -5504.0, 5568.0, -4416.0)
gg_rct_united_2_2_main = Rect(5888.0, -5344.0, 6400.0, -4832.0)
gg_rct_united_2_2_mine = Rect(6912.0, -5344.0, 7424.0, -4832.0)
gg_rct_united_2_2_spawn = Rect(2208.0, -5504.0, 3552.0, -4416.0)
gg_rct_united_2_2_worker = Rect(5152.0, -5216.0, 5248.0, -5120.0)
gg_rct_united_2_3_build = Rect(4224.0, -4992.0, 5120.0, -3872.0)
gg_rct_united_2_3_main = Rect(5888.0, -4704.0, 6400.0, -4192.0)
gg_rct_united_2_3_mine = Rect(6912.0, -4704.0, 7424.0, -4192.0)
gg_rct_united_2_3_spawn = Rect(2208.0, -4992.0, 3104.0, -3872.0)
gg_rct_united_2_3_worker = Rect(4608.0, -4512.0, 4736.0, -4384.0)
gg_rct_united_2_4_build = Rect(4224.0, -4480.0, 5568.0, -3392.0)
gg_rct_united_2_4_main = Rect(5888.0, -4064.0, 6400.0, -3552.0)
gg_rct_united_2_4_mine = Rect(6912.0, -4064.0, 7424.0, -3552.0)
gg_rct_united_2_4_spawn = Rect(2208.0, -4480.0, 3552.0, -3392.0)
gg_rct_united_2_4_worker = Rect(5184.0, -3744.0, 5280.0, -3648.0)
gg_rct_united_2_5_build = Rect(4224.0, -4480.0, 5888.0, -2944.0)
gg_rct_united_2_5_main = Rect(5888.0, -3456.0, 6400.0, -2944.0)
gg_rct_united_2_5_mine = Rect(6912.0, -3456.0, 7424.0, -2944.0)
gg_rct_united_2_5_spawn = Rect(2208.0, -4480.0, 3872.0, -2944.0)
gg_rct_united_2_5_worker = Rect(5600.0, -3232.0, 5696.0, -3136.0)
gg_rct_united_team_1_base = Rect(-9888.0, -4768.0, -9280.0, -4128.0)
gg_rct_united_team_1_tower = Rect(-7808.0, -4736.0, -7200.0, -4096.0)
gg_rct_united_team_2_base = Rect(1600.0, -4832.0, 2208.0, -4192.0)
gg_rct_united_team_2_tower = Rect(-736.0, -4800.0, -128.0, -4160.0)
gg_rct_curved_1_1_laboratory = Rect(-11648.0, 8192.0, -11136.0, 8704.0)
gg_rct_curved_1_2_laboratory = Rect(-11648.0, 6336.0, -11136.0, 6848.0)
gg_rct_curved_1_3_laboratory = Rect(-11648.0, 4480.0, -11136.0, 4992.0)
gg_rct_curved_1_4_laboratory = Rect(-11648.0, 2624.0, -11136.0, 3136.0)
gg_rct_curved_1_5_laboratory = Rect(-11648.0, 768.0, -11136.0, 1280.0)
gg_rct_curved_2_1_laboratory = Rect(3648.0, 8192.0, 4160.0, 8704.0)
gg_rct_curved_2_2_laboratory = Rect(3648.0, 6336.0, 4160.0, 6848.0)
gg_rct_curved_2_3_laboratory = Rect(3648.0, 4480.0, 4160.0, 4992.0)
gg_rct_curved_2_4_laboratory = Rect(3648.0, 2624.0, 4160.0, 3136.0)
gg_rct_curved_2_5_laboratory = Rect(3648.0, 768.0, 4160.0, 1280.0)
gg_rct_united_1_1_laboratory = Rect(-14592.0, -3456.0, -14080.0, -2944.0)
gg_rct_united_1_2_laboratory = Rect(-14592.0, -4064.0, -14080.0, -3552.0)
gg_rct_united_1_3_laboratory = Rect(-14592.0, -4736.0, -14080.0, -4224.0)
gg_rct_united_1_4_laboratory = Rect(-14592.0, -5376.0, -14080.0, -4864.0)
gg_rct_united_1_5_laboratory = Rect(-14592.0, -5952.0, -14080.0, -5440.0)
gg_rct_united_2_5_laboratory = Rect(6400.0, -3456.0, 6912.0, -2944.0)
gg_rct_united_2_4_laboratory = Rect(6400.0, -4064.0, 6912.0, -3552.0)
gg_rct_united_2_3_laboratory = Rect(6400.0, -4704.0, 6912.0, -4192.0)
gg_rct_united_2_2_laboratory = Rect(6400.0, -5344.0, 6912.0, -4832.0)
gg_rct_united_2_1_laboratory = Rect(6400.0, -5952.0, 6912.0, -5440.0)
gg_rct_curved_team_2_attack_1_left = Rect(-8288.0, 1568.0, 1920.0, 7008.0)
gg_rct_united_team_1_attack_1_right = Rect(-11680.0, -7328.0, -416.0, -2240.0)
gg_rct_united_team_1_attack_2_down = Rect(-576.0, -3648.0, 2176.0, -2144.0)
gg_rct_united_team_1_attack_3_up = Rect(-576.0, -7328.0, 2176.0, -5184.0)
gg_rct_united_team_1_attack_4_right = Rect(-576.0, -5344.0, 2176.0, -3488.0)
gg_rct_united_team_2_attack_1_left = Rect(-7136.0, -7360.0, 3936.0, -2272.0)
gg_rct_united_team_2_attack_2_down = Rect(-9856.0, -3680.0, -6976.0, -2272.0)
gg_rct_united_team_2_attack_3_up = Rect(-9856.0, -7328.0, -7008.0, -5152.0)
gg_rct_united_team_2_attack_4_left = Rect(-9856.0, -5344.0, -6976.0, -3488.0)
gg_rct_royal_1_1_build_1 = Rect(10688.0, 6080.0, 11776.0, 7168.0)
gg_rct_royal_1_1_build_2 = Rect(11776.0, 7168.0, 12864.0, 8256.0)
gg_rct_royal_1_1_main = Rect(11872.0, 6560.0, 12384.0, 7072.0)
gg_rct_royal_1_1_mine = Rect(12416.0, 6560.0, 12928.0, 7072.0)
gg_rct_royal_1_1_spawn_1 = Rect(9184.0, 6080.0, 10272.0, 7168.0)
gg_rct_royal_1_1_spawn_2 = Rect(11776.0, 8672.0, 12864.0, 9824.0)
gg_rct_royal_team_1_base_1 = Rect(9440.0, 5440.0, 10048.0, 6080.0)
gg_rct_royal_team_1_base_2 = Rect(12864.0, 8928.0, 13472.0, 9568.0)
gg_rct_royal_1_1_laboratory = Rect(11872.0, 6016.0, 12384.0, 6528.0)
gg_rct_royal_2_1_build_1 = Rect(18272.0, 7104.0, 19392.0, 8256.0)
gg_rct_royal_2_1_build_2 = Rect(19424.0, 7104.0, 20544.0, 8256.0)
gg_rct_royal_2_1_main = Rect(19168.0, 6560.0, 19680.0, 7072.0)
gg_rct_royal_2_1_mine = Rect(19712.0, 6560.0, 20224.0, 7072.0)
gg_rct_royal_2_1_spawn_1 = Rect(18272.0, 8640.0, 19424.0, 9792.0)
gg_rct_royal_2_1_spawn_2 = Rect(19392.0, 8640.0, 20544.0, 9792.0)
gg_rct_royal_team_2_base_1 = Rect(17664.0, 8896.0, 18272.0, 9536.0)
gg_rct_royal_team_2_base_2 = Rect(20544.0, 8896.0, 21152.0, 9536.0)
gg_rct_royal_2_1_laboratory = Rect(18624.0, 6560.0, 19136.0, 7072.0)
gg_rct_royal_global_attack_1_right_2 = Rect(11584.0, 7840.0, 29184.0, 11168.0)
gg_rct_royal_global_attack_9_down_1 = Rect(7776.0, -17824.0, 11712.0, 8000.0)
gg_rct_royal_1_1_worker_1 = Rect(10688.0, 6080.0, 11776.0, 7168.0)
gg_rct_royal_1_1_worker_2 = Rect(11776.0, 7168.0, 12864.0, 8256.0)
gg_rct_royal_2_1_worker_1 = Rect(18272.0, 7104.0, 19392.0, 8256.0)
gg_rct_royal_2_1_worker_2 = Rect(19424.0, 7104.0, 20544.0, 8256.0)
gg_rct_royal_global_attack_2_down_2 = Rect(29024.0, 7840.0, 32256.0, 11168.0)
gg_rct_royal_global_attack_3_down_2 = Rect(27712.0, -17984.0, 32224.0, 8032.0)
gg_rct_royal_global_attack_4_left_2 = Rect(27712.0, -19168.0, 32192.0, -17856.0)
gg_rct_royal_global_attack_5_left_2 = Rect(9920.0, -19136.0, 27872.0, -16096.0)
gg_rct_royal_global_attack_6_up_2 = Rect(7936.0, -19136.0, 10432.0, -16032.0)
gg_rct_royal_global_attack_7_up_2 = Rect(7776.0, -16320.0, 11712.0, 9152.0)
gg_rct_royal_global_attack_8_right_2 = Rect(7776.0, 9024.0, 11712.0, 11168.0)
gg_rct_royal_global_attack_10_right_1 = Rect(7840.0, -19136.0, 11712.0, -17664.0)
gg_rct_royal_global_attack_11_right_1 = Rect(11552.0, -19136.0, 29248.0, -16096.0)
gg_rct_royal_global_attack_12_up_1 = Rect(29088.0, -19136.0, 32256.0, -16096.0)
gg_rct_royal_global_attack_13_up_1 = Rect(27712.0, -16224.0, 32192.0, 9248.0)
gg_rct_royal_global_attack_14_left_1 = Rect(27712.0, 9088.0, 32256.0, 11136.0)
gg_rct_royal_global_attack_15_left_1 = Rect(9888.0, 7840.0, 27872.0, 11136.0)
gg_rct_royal_global_attack_16_down_1 = Rect(7776.0, 7840.0, 10016.0, 11200.0)
gg_rct_royal_3_1_build_1 = Rect(26048.0, 7168.0, 27136.0, 8256.0)
gg_rct_royal_3_1_build_2 = Rect(27136.0, 6080.0, 28224.0, 7168.0)
gg_rct_royal_3_1_main = Rect(26528.0, 6560.0, 27040.0, 7072.0)
gg_rct_royal_3_1_mine = Rect(26528.0, 6016.0, 27040.0, 6528.0)
gg_rct_royal_3_1_spawn_1 = Rect(26048.0, 8672.0, 27136.0, 9760.0)
gg_rct_royal_3_1_spawn_2 = Rect(28640.0, 6080.0, 29792.0, 7168.0)
gg_rct_royal_team_3_base_1 = Rect(25408.0, 8896.0, 26048.0, 9504.0)
gg_rct_royal_team_3_base_2 = Rect(28896.0, 5472.0, 29536.0, 6080.0)
gg_rct_royal_3_1_laboratory = Rect(25984.0, 6560.0, 26496.0, 7072.0)
gg_rct_royal_3_1_worker_1 = Rect(26048.0, 7168.0, 27136.0, 8256.0)
gg_rct_royal_3_1_worker_2 = Rect(27136.0, 6080.0, 28224.0, 7168.0)
gg_rct_royal_4_1_build_1 = Rect(27072.0, -544.0, 28224.0, 576.0)
gg_rct_royal_4_1_build_2 = Rect(27072.0, -1696.0, 28224.0, -576.0)
gg_rct_royal_4_1_main = Rect(26528.0, -832.0, 27040.0, -320.0)
gg_rct_royal_4_1_mine = Rect(26528.0, -1376.0, 27040.0, -864.0)
gg_rct_royal_4_1_spawn_1 = Rect(28608.0, -576.0, 29760.0, 576.0)
gg_rct_royal_4_1_spawn_2 = Rect(28608.0, -1696.0, 29760.0, -544.0)
gg_rct_royal_team_4_base_2 = Rect(28864.0, -2304.0, 29504.0, -1696.0)
gg_rct_royal_4_1_laboratory = Rect(26528.0, -288.0, 27040.0, 224.0)
gg_rct_royal_4_1_worker_1 = Rect(27072.0, -544.0, 28224.0, 576.0)
gg_rct_royal_4_1_worker_2 = Rect(27072.0, -1696.0, 28224.0, -576.0)
gg_rct_royal_team_4_base_1 = Rect(28864.0, 576.0, 29504.0, 1184.0)
gg_rct_royal_5_1_build_1 = Rect(27072.0, -8224.0, 28224.0, -7104.0)
gg_rct_royal_5_1_build_2 = Rect(27072.0, -9376.0, 28224.0, -8256.0)
gg_rct_royal_5_1_main = Rect(26528.0, -8512.0, 27040.0, -8000.0)
gg_rct_royal_5_1_mine = Rect(26528.0, -9056.0, 27040.0, -8544.0)
gg_rct_royal_5_1_spawn_1 = Rect(28608.0, -8256.0, 29760.0, -7104.0)
gg_rct_royal_5_1_spawn_2 = Rect(28608.0, -9376.0, 29760.0, -8224.0)
gg_rct_royal_team_5_base_2 = Rect(28864.0, -9984.0, 29504.0, -9376.0)
gg_rct_royal_5_1_laboratory = Rect(26528.0, -7968.0, 27040.0, -7456.0)
gg_rct_royal_5_1_worker_1 = Rect(27072.0, -8224.0, 28224.0, -7104.0)
gg_rct_royal_5_1_worker_2 = Rect(27072.0, -9376.0, 28224.0, -8256.0)
gg_rct_royal_team_5_base_1 = Rect(28864.0, -7104.0, 29504.0, -6496.0)
gg_rct_royal_6_1_build_1 = Rect(27136.0, -15872.0, 28224.0, -14784.0)
gg_rct_royal_6_1_build_2 = Rect(26048.0, -16960.0, 27136.0, -15872.0)
gg_rct_royal_6_1_main = Rect(26528.0, -15776.0, 27040.0, -15264.0)
gg_rct_royal_6_1_mine = Rect(25984.0, -15776.0, 26496.0, -15264.0)
gg_rct_royal_6_1_spawn_1 = Rect(28640.0, -15872.0, 29728.0, -14784.0)
gg_rct_royal_6_1_spawn_2 = Rect(26048.0, -18528.0, 27136.0, -17376.0)
gg_rct_royal_team_6_base_1 = Rect(28864.0, -14784.0, 29472.0, -14144.0)
gg_rct_royal_team_6_base_2 = Rect(25440.0, -18272.0, 26048.0, -17632.0)
gg_rct_royal_6_1_laboratory = Rect(26528.0, -15232.0, 27040.0, -14720.0)
gg_rct_royal_6_1_worker_1 = Rect(27136.0, -15872.0, 28224.0, -14784.0)
gg_rct_royal_6_1_worker_2 = Rect(26048.0, -16960.0, 27136.0, -15872.0)
gg_rct_royal_7_1_build_1 = Rect(19456.0, -16960.0, 20576.0, -15808.0)
gg_rct_royal_7_1_build_2 = Rect(18304.0, -16960.0, 19424.0, -15808.0)
gg_rct_royal_7_1_main = Rect(19168.0, -15776.0, 19680.0, -15264.0)
gg_rct_royal_7_1_mine = Rect(18624.0, -15776.0, 19136.0, -15264.0)
gg_rct_royal_7_1_spawn_1 = Rect(19424.0, -18496.0, 20576.0, -17344.0)
gg_rct_royal_7_1_spawn_2 = Rect(18304.0, -18496.0, 19456.0, -17344.0)
gg_rct_royal_team_7_base_2 = Rect(17696.0, -18240.0, 18304.0, -17600.0)
gg_rct_royal_7_1_laboratory = Rect(19712.0, -15776.0, 20224.0, -15264.0)
gg_rct_royal_7_1_worker_1 = Rect(19456.0, -16960.0, 20576.0, -15808.0)
gg_rct_royal_7_1_worker_2 = Rect(18304.0, -16960.0, 19424.0, -15808.0)
gg_rct_royal_team_7_base_1 = Rect(20576.0, -18240.0, 21184.0, -17600.0)
gg_rct_royal_8_1_build_1 = Rect(11776.0, -16960.0, 12864.0, -15872.0)
gg_rct_royal_8_1_build_2 = Rect(10688.0, -15872.0, 11776.0, -14784.0)
gg_rct_royal_8_1_main = Rect(11872.0, -15776.0, 12384.0, -15264.0)
gg_rct_royal_8_1_mine = Rect(11872.0, -15232.0, 12384.0, -14720.0)
gg_rct_royal_8_1_spawn_1 = Rect(11776.0, -18464.0, 12864.0, -17376.0)
gg_rct_royal_8_1_spawn_2 = Rect(9120.0, -15872.0, 10272.0, -14784.0)
gg_rct_royal_team_8_base_1 = Rect(12864.0, -18208.0, 13504.0, -17600.0)
gg_rct_royal_team_8_base_2 = Rect(9376.0, -14784.0, 10016.0, -14176.0)
gg_rct_royal_8_1_laboratory = Rect(12416.0, -15776.0, 12928.0, -15264.0)
gg_rct_royal_8_1_worker_1 = Rect(11776.0, -16960.0, 12864.0, -15872.0)
gg_rct_royal_8_1_worker_2 = Rect(10688.0, -15872.0, 11776.0, -14784.0)
gg_rct_royal_9_1_build_1 = Rect(10688.0, -9376.0, 11840.0, -8256.0)
gg_rct_royal_9_1_build_2 = Rect(10688.0, -8224.0, 11840.0, -7104.0)
gg_rct_royal_9_1_main = Rect(11872.0, -8480.0, 12384.0, -7968.0)
gg_rct_royal_9_1_mine = Rect(11872.0, -7936.0, 12384.0, -7424.0)
gg_rct_royal_9_1_spawn_1 = Rect(9152.0, -9376.0, 10304.0, -8224.0)
gg_rct_royal_9_1_spawn_2 = Rect(9152.0, -8256.0, 10304.0, -7104.0)
gg_rct_royal_team_9_base_2 = Rect(9408.0, -7104.0, 10048.0, -6496.0)
gg_rct_royal_9_1_laboratory = Rect(11872.0, -9024.0, 12384.0, -8512.0)
gg_rct_royal_9_1_worker_1 = Rect(10688.0, -9376.0, 11840.0, -8256.0)
gg_rct_royal_9_1_worker_2 = Rect(10688.0, -8224.0, 11840.0, -7104.0)
gg_rct_royal_team_9_base_1 = Rect(9408.0, -9984.0, 10048.0, -9376.0)
gg_rct_royal_10_1_build_1 = Rect(10688.0, -1696.0, 11840.0, -576.0)
gg_rct_royal_10_1_build_2 = Rect(10688.0, -544.0, 11840.0, 576.0)
gg_rct_royal_10_1_main = Rect(11872.0, -800.0, 12384.0, -288.0)
gg_rct_royal_10_1_mine = Rect(11872.0, -256.0, 12384.0, 256.0)
gg_rct_royal_10_1_spawn_1 = Rect(9152.0, -1696.0, 10304.0, -544.0)
gg_rct_royal_10_1_spawn_2 = Rect(9152.0, -576.0, 10304.0, 576.0)
gg_rct_royal_team_10_base_2 = Rect(9408.0, 576.0, 10048.0, 1184.0)
gg_rct_royal_10_1_laboratory = Rect(11872.0, -1344.0, 12384.0, -832.0)
gg_rct_royal_10_1_worker_1 = Rect(10688.0, -1696.0, 11840.0, -576.0)
gg_rct_royal_10_1_worker_2 = Rect(10688.0, -544.0, 11840.0, 576.0)
gg_rct_royal_team_10_base_1 = Rect(9408.0, -2304.0, 10048.0, -1696.0)
end

--CUSTOM_CODE
if Debug then Debug.beginFile 'TotalInitialization' end
--[[——————————————————————————————————————————————————————
    Total Initialization version 5.3.1
    Created by: Bribe
    Contributors: Eikonium, HerlySQR, Tasyen, Luashine, Forsakn
    Inspiration: Almia, ScorpioT1000, Troll-Brain
    Hosted at: https://github.com/BribeFromTheHive/Lua/blob/master/TotalInitialization.lua
    Debug library hosted at: https://www.hiveworkshop.com/threads/debug-utils-ingame-console-etc.330758/
————————————————————————————————————————————————————————————]]

---Calls the user's initialization function during the map's loading process. The first argument should either be the init function,
---or it should be the string to give the initializer a name (works similarly to a module name/identically to a vJass library name).
---
---To use requirements, call `Require.strict 'LibraryName'` or `Require.optional 'LibraryName'`. Alternatively, the OnInit callback
---function can take the `Require` table as a single parameter: `OnInit(function(import) import.strict 'ThisIsTheSameAsRequire' end)`.
---
-- - `OnInit.global` or just `OnInit` is called after InitGlobals and is the standard point to initialize.
-- - `OnInit.trig` is called after InitCustomTriggers, and is useful for removing hooks that should only apply to GUI events.
-- - `OnInit.map` is the last point in initialization before the loading screen is completed.
-- - `OnInit.final` occurs immediately after the loading screen has disappeared, and the game has started.
---@class OnInit
--
--Simple Initialization without declaring a library name:
---@overload async fun(initCallback: Initializer.Callback)
--
--Advanced initialization with a library name and an optional third argument to signal to Eikonium's DebugUtils that the file has ended.
---@overload async fun(libraryName: string, initCallback: Initializer.Callback, debugLineNum?: integer)
--
--A way to yield your library to allow other libraries in the same initialization sequence to load, then resume once they have loaded.
---@overload async fun(customInitializerName: string)
OnInit = {}

---@alias Initializer.Callback fun(require?: Requirement | {[string]: Requirement}):...?

---@alias Requirement async fun(reqName: string, source?: table): unknown

-- `Require` will yield the calling `OnInit` initialization function until the requirement (referenced as a string) exists. It will check the
-- global API (for example, does 'GlobalRemap' exist) and then check for any named OnInit resources which might use that same string as its name.
--
-- Due to the way Sumneko's syntax highlighter works, the return value will only be linted for defined @class objects (and doesn't work for regular
-- globals like `TimerStart`). I tried to request the functionality here: https://github.com/sumneko/lua-language-server/issues/1792 , however it
-- was closed. Presumably, there are other requests asking for it, but I wouldn't count on it.
--
-- To declare a requirement, use: `Require.strict 'SomeLibrary'` or (if you don't care about the missing linting functionality) `Require 'SomeLibrary'`
--
-- To optionally require something, use any other suffix (such as `.optionally` or `.nonstrict`): `Require.optional 'SomeLibrary'`
--
---@class Require: { [string]: Requirement }
---@overload async fun(reqName: string, source?: table): string
Require = {}
do
    local library = {} --You can change this to false if you don't use `Require` nor the `OnInit.library` API.

    --CONFIGURABLE LEGACY API FUNCTION:
    ---@param _ENV table
    ---@param OnInit any
    local function assignLegacyAPI(_ENV, OnInit)
        OnGlobalInit = OnInit; OnTrigInit = OnInit.trig; OnMapInit = OnInit.map; OnGameStart = OnInit.final              --Global Initialization Lite API
        --OnMainInit = OnInit.main; OnLibraryInit = OnInit.library; OnGameInit = OnInit.final                            --short-lived experimental API
        --onGlobalInit = OnInit; onTriggerInit = OnInit.trig; onInitialization = OnInit.map; onGameStart = OnInit.final  --original Global Initialization API
        --OnTriggerInit = OnInit.trig; OnInitialization = OnInit.map                                                     --Forsakn's Ordered Indices API
    end
    --END CONFIGURABLES

    local _G, rawget, insert =
    _G, rawget, table.insert

    local initFuncQueue = {}

    ---@param name string
    ---@param continue? function
    local function runInitializers(name, continue)
        --print('running:', name, tostring(initFuncQueue[name]))
        if initFuncQueue[name] then
            for _,func in ipairs(initFuncQueue[name]) do
                coroutine.wrap(func)(Require)
            end
            initFuncQueue[name] = nil
        end
        if library then
            library:resume()
        end
        if continue then
            continue()
        end
    end

    local function initEverything()
        ---@param hookName string
        ---@param continue? function
        local function hook(hookName, continue)
            local hookedFunc = rawget(_G, hookName)
            if hookedFunc then
                rawset(_G, hookName,
                        function()
                            hookedFunc()
                            runInitializers(hookName, continue)
                        end
                )
            else
                runInitializers(hookName, continue)
            end
        end

        hook(
                'InitGlobals',
                function()
                    hook(
                            'InitCustomTriggers',
                            function()
                                hook('RunInitializationTriggers')
                            end
                    )
                end
        )

        hook(
                'MarkGameStarted',
                function()
                    if library then
                        for _,func in ipairs(library.queuedInitializerList) do
                            func(nil, true) --run errors for missing requirements.
                        end
                        for _,func in pairs(library.yieldedModuleMatrix) do
                            func(true) --run errors for modules that aren't required.
                        end
                    end
                    OnInit = nil
                    Require = nil
                end
        )
    end

    ---@param initName       string
    ---@param libraryName    string | Initializer.Callback
    ---@param func?          Initializer.Callback
    ---@param debugLineNum?  integer
    ---@param incDebugLevel? boolean
    local function addUserFunc(initName, libraryName, func, debugLineNum, incDebugLevel)
        if not func then
            ---@cast libraryName Initializer.Callback
            func = libraryName
        else
            assert(type(libraryName) == 'string')
            if debugLineNum and Debug then
                Debug.beginFile(libraryName, incDebugLevel and 3 or 2)
                Debug.data.sourceMap[#Debug.data.sourceMap].lastLine = debugLineNum
            end
            if library then
                func = library:create(libraryName, func)
            end
        end
        assert(type(func) == 'function')

        --print('adding user func: ' , initName , libraryName, debugLineNum, incDebugLevel)

        initFuncQueue[initName] = initFuncQueue[initName] or {}
        insert(initFuncQueue[initName], func)

        if initName == 'root' or initName == 'module' then
            runInitializers(initName)
        end
    end

    ---@param name string
    local function createInit(name)
        ---@async
        ---@param libraryName string                --Assign your callback a unique name, allowing other OnInit callbacks can use it as a requirement.
        ---@param userInitFunc Initializer.Callback --Define a function to be called at the chosen point in the initialization process. It can optionally take the `Require` object as a parameter. Its optional return value(s) are passed to a requiring library via the `Require` object (defaults to `true`).
        ---@param debugLineNum? integer             --If the Debug library is present, you can call Debug.getLine() for this parameter (which should coincide with the last line of your script file). This will neatly tie-in with OnInit's built-in Debug library functionality to define a starting line and an ending line for your module.
        ---@overload async fun(userInitFunc: Initializer.Callback)
        return function(libraryName, userInitFunc, debugLineNum)
            addUserFunc(name, libraryName, userInitFunc, debugLineNum)
        end
    end
    OnInit.global = createInit 'InitGlobals'                -- Called after InitGlobals, and is the standard point to initialize.
    OnInit.trig   = createInit 'InitCustomTriggers'         -- Called after InitCustomTriggers, and is useful for removing hooks that should only apply to GUI events.
    OnInit.map    = createInit 'RunInitializationTriggers'  -- Called last in the script's loading screen sequence. Runs after the GUI "Map Initialization" events have run.
    OnInit.final  = createInit 'MarkGameStarted'            -- Called immediately after the loading screen has disappeared, and the game has started.

    do
        ---@param self table
        ---@param libraryNameOrInitFunc function | string
        ---@param userInitFunc function
        ---@param debugLineNum number
        local function __call(
                self,
                libraryNameOrInitFunc,
                userInitFunc,
                debugLineNum
        )
            if userInitFunc or type(libraryNameOrInitFunc) == 'function' then
                addUserFunc(
                        'InitGlobals', --Calling OnInit directly defaults to OnInit.global (AKA OnGlobalInit)
                        libraryNameOrInitFunc,
                        userInitFunc,
                        debugLineNum,
                        true
                )
            elseif library then
                library:declare(libraryNameOrInitFunc) --API handler for OnInit "Custom initializer"
            else
                error(
                        "Bad OnInit args: "..
                                tostring(libraryNameOrInitFunc) .. ", " ..
                                tostring(userInitFunc)
                )
            end
        end
        setmetatable(OnInit --[[@as table]], { __call = __call })
    end

    do --if you don't need the initializers for 'root', 'config' and 'main', you can delete this do...end block.
        local gmt = getmetatable(_G) or
                getmetatable(setmetatable(_G, {}))

        local rawIndex = gmt.__newindex or rawset

        local hookMainAndConfig
        ---@param _G table
        ---@param key string
        ---@param fnOrDiscard unknown
        function hookMainAndConfig(_G, key, fnOrDiscard)
            if key == 'main' or key == 'config' then
                ---@cast fnOrDiscard function
                if key == 'main' then
                    runInitializers 'root'
                end
                rawIndex(_G, key, function()
                    if key == 'config' then
                        fnOrDiscard()
                    elseif gmt.__newindex == hookMainAndConfig then
                        gmt.__newindex = rawIndex --restore the original __newindex if no further hooks on __newindex exist.
                    end
                    runInitializers(key)
                    if key == 'main' then
                        fnOrDiscard()
                    end
                end)
            else
                rawIndex(_G, key, fnOrDiscard)
            end
        end
        gmt.__newindex = hookMainAndConfig
        OnInit.root    = createInit 'root'   -- Runs immediately during the Lua root, but is yieldable (allowing requirements) and pcalled.
        OnInit.config  = createInit 'config' -- Runs when `config` is called. Credit to @Luashine: https://www.hiveworkshop.com/threads/inject-main-config-from-we-trigger-code-like-jasshelper.338201/
        OnInit.main    = createInit 'main'   -- Runs when `main` is called. Idea from @Tasyen: https://www.hiveworkshop.com/threads/global-initialization.317099/post-3374063
    end
    if library then
        library.queuedInitializerList = {}
        library.customDeclarationList = {}
        library.yieldedModuleMatrix   = {}
        library.moduleValueMatrix     = {}

        function library:pack(name, ...)
            self.moduleValueMatrix[name] = table.pack(...)
        end

        function library:resume()
            if self.queuedInitializerList[1] then
                local continue, tempQueue, forceOptional

                ::initLibraries::
                repeat
                    continue=false
                    self.queuedInitializerList, tempQueue =
                    {}, self.queuedInitializerList

                    for _,func in ipairs(tempQueue) do
                        if func(forceOptional) then
                            continue=true --Something was initialized; therefore further systems might be able to initialize.
                        else
                            insert(self.queuedInitializerList, func) --If the queued initializer returns false, that means its requirement wasn't met, so we re-queue it.
                        end
                    end
                until not continue or not self.queuedInitializerList[1]

                if self.customDeclarationList[1] then
                    self.customDeclarationList, tempQueue =
                    {}, self.customDeclarationList
                    for _,func in ipairs(tempQueue) do
                        func() --unfreeze any custom initializers.
                    end
                elseif not forceOptional then
                    forceOptional = true
                else
                    return
                end
                goto initLibraries
            end
        end
        local function declareName(name, initialValue)
            assert(type(name) == 'string')
            assert(library.moduleValueMatrix[name] == nil)
            library.moduleValueMatrix[name] =
            initialValue and { true, n = 1 }
        end
        function library:create(name, userFunc)
            assert(type(userFunc) == 'function')
            declareName(name, false)                --declare itself as a non-loaded library.
            return function()
                self:pack(name, userFunc(Require))  --pack return values to allow multiple values to be communicated.
                if self.moduleValueMatrix[name].n == 0 then
                    self:pack(name, true)           --No values were returned; therefore simply package the value as `true`
                end
            end
        end

        ---@async
        function library:declare(name)
            declareName(name, true)                 --declare itself as a loaded library.

            local co = coroutine.running()

            insert(
                    self.customDeclarationList,
                    function()
                        coroutine.resume(co)
                    end
            )
            coroutine.yield() --yields the calling function until after all currently-queued initializers have run.
        end

        local processRequirement

        ---@async
        function processRequirement(
                optional,
                requirement,
                explicitSource
        )
            if type(optional) == 'string' then
                optional, requirement, explicitSource =
                true, optional, requirement --optional requirement (processed by the __index method)
            else
                optional = false --strict requirement (processed by the __call method)
            end
            local source = explicitSource or _G

            assert(type(source)=='table')
            assert(type(requirement)=='string')

            ::reindex::
            local subSource, subReq =
            requirement:match("([\x25w_]+)\x25.(.+)") --Check if user is requiring using "table.property" syntax
            if subSource and subReq then
                source,
                requirement =
                processRequirement(subSource, source), --If the container is nil, yield until it is not.
                subReq

                if type(source)=='table' then
                    explicitSource = source
                    goto reindex --check for further nested properties ("table.property.subProperty.anyOthers").
                else
                    return --The source table for the requirement wasn't found, so disregard the rest (this only happens with optional requirements).
                end
            end
            local function loadRequirement(unpack)
                local package = rawget(source, requirement) --check if the requirement exists in the host table.
                if not package and not explicitSource then
                    if library.yieldedModuleMatrix[requirement] then
                        library.yieldedModuleMatrix[requirement]() --load module if it exists
                    end
                    package = library.moduleValueMatrix[requirement] --retrieve the return value from the module.
                    if unpack and type(package)=='table' then
                        return table.unpack(package, 1, package.n) --using unpack allows any number of values to be returned by the required library.
                    end
                end
                return package
            end

            local co, loaded

            local function checkReqs(forceOptional, printErrors)
                if not loaded then
                    loaded = loadRequirement()
                    loaded = loaded or optional and
                            (loaded==nil or forceOptional)
                    if loaded then
                        if co then coroutine.resume(co) end --resume only if it was yielded in the first place.
                        return loaded
                    elseif printErrors then
                        coroutine.resume(co, true)
                    end
                end
            end

            if not checkReqs() then --only yield if the requirement doesn't already exist.
                co = coroutine.running()
                insert(library.queuedInitializerList, checkReqs)
                if coroutine.yield() then
                    error("Missing Requirement: "..requirement) --handle the error within the user's function to get an accurate stack trace via the `try` function.
                end
            end

            return loadRequirement(true)
        end

        ---@type Requirement
        function Require.strict(name, explicitSource)
            return processRequirement(nil, name, explicitSource)
        end

        setmetatable(Require --[[@as table]], {
            __call = processRequirement,
            __index = function()
                return processRequirement
            end
        })

        local module  = createInit 'module'

        --- `OnInit.module` will only call the OnInit function if the module is required by another resource, rather than being called at a pre-
        --- specified point in the loading process. It works similarly to Go, in that including modules in your map that are not actually being
        --- required will throw an error message.
        ---@param name          string
        ---@param func          fun(require?: Initializer.Callback):any
        ---@param debugLineNum? integer
        OnInit.module = function(name, func, debugLineNum)
            if func then
                local userFunc = func
                func = function(require)
                    local co = coroutine.running()

                    library.yieldedModuleMatrix[name] =
                    function(failure)
                        library.yieldedModuleMatrix[name] = nil
                        coroutine.resume(co, failure)
                    end

                    if coroutine.yield() then
                        error("Module declared but not required: "..name)
                    end

                    return userFunc(require)
                end
            end
            module(name, func, debugLineNum)
        end
    end

    if assignLegacyAPI then --This block handles legacy code.
        ---Allows packaging multiple requirements into one table and queues the initialization for later.
        ---@deprecated
        ---@param initList string | table
        ---@param userFunc function
        function OnInit.library(initList, userFunc)
            local typeOf = type(initList)

            assert(typeOf=='table' or typeOf=='string')
            assert(type(userFunc) == 'function')

            local function caller(use)
                if typeOf=='string' then
                    use(initList)
                else
                    for _,initName in ipairs(initList) do
                        use(initName)
                    end
                    if initList.optional then
                        for _,initName in ipairs(initList.optional) do
                            use.lazily(initName)
                        end
                    end
                end
            end
            if initList.name then
                OnInit(initList.name, caller)
            else
                OnInit(caller)
            end
        end

        local legacyTable = {}

        assignLegacyAPI(legacyTable, OnInit)

        for key,func in pairs(legacyTable) do
            rawset(_G, key, func)
        end

        OnInit.final(function()
            for key in pairs(legacyTable) do
                rawset(_G, key, nil)
            end
        end)
    end

    initEverything()
end
if Debug then Debug.endFile() end
function calculateDif(buidRect, spawnRect, unit)

    local buidRectX = GetRectCenterX(buidRect)
    local buidRectY = GetRectCenterY(buidRect)

    local spawnRectX = GetRectCenterX(spawnRect)
    local spawnRectY = GetRectCenterY(spawnRect)

    local unitX = GetUnitX(unit)
    local unitY = GetUnitY(unit)
    return spawnRectX - (buidRectX - unitX), spawnRectY - (buidRectY - unitY)
end
function initGameConfig(mode)
    game_modes = {
        curved = {
            unitRange = 1, -- 100%
            spawnPolicy = {
                interval = 35,
                dif = 0
            },
            playerPosition = { 1, 2, 3, 4, 5 }
        },
        united = {
            unitRange = 1.5, -- 150%
            spawnPolicy = {
                interval = 0,
                dif = 35
            },
            playerPosition = { 3, 4, 2, 1, 5 }
        },
        royal = {
            unitRange = 1, -- 150%
            spawnPolicy = {
                interval = 0,
                dif = 35
            },
            playerPosition = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }
        }
    }

    game_config = {
        mode = mode,
        economy = {
            startGold = 300,
            startIncomePerSec = 5,
            firstMinePrice = 300, -- need init. now get from map
            nextMineDiffPrice = 300
        },
        units = {
            range = game_modes[mode].unitRange
        },
        spawnPolicy = game_modes[mode].spawnPolicy,
        playerPosition = game_modes[mode].playerPosition
    }
end

function initGlobalVariables()
    players_team_left = {
        { id = Player(0), spawnId = Player(17), team = 1 },
        { id = Player(2), spawnId = Player(18), team = 1 },
        { id = Player(3), spawnId = Player(16), team = 1 },
        { id = Player(4), spawnId = Player(19), team = 1 },
        { id = Player(5), spawnId = Player(15), team = 1 }
    }
    players_team_right = {
        { id = Player(1), spawnId = Player(12), team = 2 },
        { id = Player(6), spawnId = Player(13), team = 2 },
        { id = Player(7), spawnId = Player(11), team = 2 },
        { id = Player(8), spawnId = Player(14), team = 2 },
        { id = Player(9), spawnId = Player(10), team = 2 }
    }
    heroes_for_build = {
        { id = 'H011', parentId = 'Hpal', race = 'human', line = 1, position = 1,  name = 'Paladin' },
        { id = 'H01A', parentId = 'Hamg', race = 'human', line = 1, position = 2,  name = 'Archmage' },
        { id = 'H01B', parentId = 'Hmkg', race = 'human', line = 1, position = 3,  name = 'Mountain King' },
        { id = 'H01C', parentId = 'Hblm', race = 'human', line = 1, position = 4,  name = 'Blood Mage' },

        { id = 'O00E', parentId = 'Obla', race = 'orc', line = 2, position = 1, name = 'Blademaster' },
        { id = 'O00F', parentId = 'Ofar', race = 'orc', line = 2, position = 2, name = 'Far Seer' },
        { id = 'O00G', parentId = 'Otch', race = 'orc', line = 2, position = 3, name = 'Tauren Chieftain' },
        { id = 'O00H', parentId = 'Oshd', race = 'orc', line = 2, position = 4, name = 'Shadow Hunter' },

        { id = 'U00B', parentId = 'Udea', race = 'undead', line = 3, position = 1, name = 'Death Knight' },
        { id = 'U00C', parentId = 'Ulic', race = 'undead', line = 3, position = 2, name = 'Lich' },
        { id = 'U00D', parentId = 'Udre', race = 'undead', line = 3, position = 3, name = 'Dreadlord' },
        { id = 'U00E', parentId = 'Ucrl', race = 'undead', line = 3, position = 4, name = 'Crypt Lord' },

        { id = 'E00N', parentId = 'Ekee', race = 'elf', line = 4, position = 1, name = 'Keeper of the Grove' },
        { id = 'E00O', parentId = 'Emoo', race = 'elf', line = 4, position = 2, name = 'Priestess of the Moon' },
        { id = 'E00P', parentId = 'Edem', race = 'elf', line = 4, position = 3, name = 'Demon Hunter' },
        { id = 'E00Q', parentId = 'Ewar', race = 'elf', line = 4, position = 4, name = 'Warden' },

        { id = 'N000', parentId = 'Nalc', race = 'other', line = 5, position = 1, name = 'Alchemist' },
        { id = 'N001', parentId = 'Nngs', race = 'other', line = 5, position = 2,  name = 'Sea Witch' },
        { id = 'N002', parentId = 'Ntin', race = 'other', line = 5, position = 3,  name = 'Tinker' },
        { id = 'N003', parentId = 'Nbst', race = 'other', line = 5, position = 4,  name = 'Beastmaster' },
        { id = 'N004', parentId = 'Npbm', race = 'other', line = 5, position = 5,  name = 'Brewmaster' },
        { id = 'N005', parentId = 'Nbrn', race = 'other', line = 5, position = 6,  name = 'Dark Ranger' },
        { id = 'N006', parentId = 'Nfir', race = 'other', line = 5, position = 7,  name = 'Firelord' },
        { id = 'N007', parentId = 'Nplh', race = 'other', line = 5, position = 8,  name = 'Pit Lord' }
    }
    units_for_build = {
        { id = 'h00C', parentId = 'h00A', tier = 1, race = 'human', line = 1, position = 1, name = 'Footman', upgrades = {'Rhde'}},
        { id = 'h004', parentId = 'h00D', tier = 1, race = 'human', line = 1, position = 2, name = 'Rifleman', upgrades = {'Rhri'}},
        { id = 'h008', parentId = 'h00I', tier = 1, race = 'human', line = 1, position = 3, name = 'Sorceress', upgrades = {'Rhst'}},
        { id = 'h003', parentId = 'h00E', tier = 2, race = 'human', line = 1, position = 4, name = 'Mortar Team', upgrades = {'Rhfl', 'Rhfs'}},
        { id = 'h007', parentId = 'h00H', tier = 2, race = 'human', line = 1, position = 5,  name = 'Priest', upgrades = {'Rhpt'}},
        { id = 'h006', parentId = 'h00K', tier = 2, race = 'human', line = 1, position = 6,  name = 'Spellbreaker', upgrades = {'Rhss'}},
        { id = 'h000', parentId = 'h00F', tier = 2, race = 'human', line = 1, position = 7,  name = 'Flying Machine', upgrades = {'Rhgb', 'Rhfc'}},
        { id = 'h009', parentId = 'h00L', tier = 3, race = 'human', line = 1, position = 8,  name = 'Dragonhawk Rider', upgrades = {'Rhan'}},
        { id = 'h002', parentId = 'h00B', tier = 3, race = 'human', line = 1, position = 9,  name = 'Knight', upgrades = {'Rhan'}},
        { id = 'h005', parentId = 'h00J', tier = 3, race = 'human', line = 1, position = 10,  name = 'Siege Engine', upgrades = {'Rhrt'}},
        { id = 'h001', parentId = 'h00G', tier = 2, race = 'human', line = 1, position = 11,  name = 'Gryphon Rider', upgrades = {'Rhhb'}},

        { id = 'h00P', parentId = 'o003', tier = 1, race = 'orc', line = 2, position = 1,  name = 'Grunt', upgrades = {'Robs'}},
        { id = 'h00Q', parentId = 'o006', tier = 1, race = 'orc', line = 2, position = 2,  name = 'Headhunter', upgrades = {'Robk', 'Rotr'}},
        { id = 'h00T', parentId = 'o00C', tier = 1, race = 'orc', line = 2, position = 3,  name = 'Shaman', upgrades = {'Rost'}},
        { id = 'h00S', parentId = 'o004', tier = 2, race = 'orc', line = 2, position = 4,  name = 'Raider', upgrades = {'Roen', 'Ropg'}},
        { id = 'h00X', parentId = 'o00B', tier = 2, race = 'orc', line = 2, position = 5,  name = 'Witch Doctor', upgrades = {'Rowd', 'Rotr'}},
        { id = 'h00U', parentId = 'o00D', tier = 2, race = 'orc', line = 2, position = 6,  name = 'Spirit Walker', upgrades = {'Rowt'}},
        { id = 'h00N', parentId = 'o00A', tier = 2, race = 'orc', line = 2, position = 7,  name = 'Batrider', upgrades = {'Rotr'}},
        { id = 'h00R', parentId = 'o008', tier = 2, race = 'orc', line = 2, position = 8,  name = 'Kodo Beast', upgrades = {'Rwdm'}},
        { id = 'h00V', parentId = 'o005', tier = 3, race = 'orc', line = 2, position = 9,  name = 'Tauren', upgrades = {'Rows'}},
        { id = 'h00O', parentId = 'o007', tier = 3, race = 'orc', line = 2, position = 10,  name = 'Demolisher', upgrades = {'Robf'}},
        { id = 'h00W', parentId = 'o009', tier = 3, race = 'orc', line = 2, position = 11,  name = 'Wind Rider', upgrades = {'Rovs'}},

        { id = 'h014', parentId = 'u001', tier = 1, race = 'undead', line = 3, position = 1,  name = 'Ghoul', upgrades = {'Rugf'}},
        { id = 'h010', parentId = 'u004', tier = 1, race = 'undead', line = 3, position = 2,  name = 'Crypt Fiend', upgrades = {'Ruwb', 'Rubu'}},
        { id = 'h00Z', parentId = 'u006', tier = 1, race = 'undead', line = 3, position = 3,  name = 'Banshee', upgrades = {'Ruba'}},
        { id = 'h017', parentId = 'u008', tier = 2, race = 'undead', line = 3, position = 4,  name = 'Obsidian Statue', upgrades = {}},
        { id = 'h013', parentId = 'u005', tier = 2, race = 'undead', line = 3, position = 5,  name = 'Gargoyle', upgrades = {'Rusf'}},
        { id = 'h016', parentId = 'u007', tier = 2, race = 'undead', line = 3, position = 6,  name = 'Necromancer', upgrades = {'Rusl', 'Rune', 'Rusm'}},
        { id = 'h015', parentId = 'u003', tier = 2, race = 'undead', line = 3, position = 7,  name = 'Meat Wagon', upgrades = {'Rupc'}},
        { id = 'h018', parentId = 'u000', tier = 2, race = 'undead', line = 3, position = 8,  name = 'Shade', upgrades = {}},
        { id = 'h00Y', parentId = 'u002', tier = 3, race = 'undead', line = 3, position = 9,  name = 'Abomination', upgrades = {'Rupc'}},
        { id = 'h019', parentId = 'u00A', tier = 3, race = 'undead', line = 3, position = 10,  name = 'Destroyer', upgrades = {}},
        { id = 'h012', parentId = 'u009', tier = 3, race = 'undead', line = 3, position = 11,  name = 'Frost Wyrm', upgrades = {'Rufb'}},

        { id = 'e009', parentId = 'e00C', tier = 1, race = 'elf', line = 4, position = 1,  name = 'Huntress', upgrades = {'Remg', 'Resc'}},
        { id = 'e000', parentId = 'e00B', tier = 1, race = 'elf', line = 4, position = 2,  name = 'Archer', upgrades = {'Reib', 'Remk'}},
        { id = 'e004', parentId = 'e00D', tier = 1, race = 'elf', line = 4, position = 3,  name = 'Dryad', upgrades = {'Resi'}},
        { id = 'e006', parentId = 'e00E', tier = 2, race = 'elf', line = 4, position = 4,  name = 'Glaive Thower', upgrades = {}},
        { id = 'e007', parentId = 'e00F', tier = 2, race = 'elf', line = 4, position = 5,  name = 'Hippogryph', upgrades = {}},
        { id = 'e002', parentId = 'e00J', tier = 2, race = 'elf', line = 4, position = 6,  name = 'Druid of the Claw', upgrades = {'Redc'}},
        { id = 'e003', parentId = 'e00I', tier = 2, race = 'elf', line = 4, position = 7,  name = 'Druid of the Talon', upgrades = {'Redt'}},
        { id = 'e005', parentId = 'e00L', tier = 2, race = 'elf', line = 4, position = 8,  name = 'Faerie Dragon', upgrades = {}},
        { id = 'e00A', parentId = 'e00K', tier = 3, race = 'elf', line = 4, position = 9,  name = 'Mountain Giant', upgrades = {'Rers', 'Rehs'}},
        { id = 'e008', parentId = 'e00G', tier = 3, race = 'elf', line = 4, position = 10,  name = 'Hippogryph Rider', upgrades = {}},
        { id = 'e001', parentId = 'e00H', tier = 3, race = 'elf', line = 4, position = 11,  name = 'Chimaera', upgrades = {'Recb'}},
    }
    units_special = {
        builder = 'o000',
        tower = 'o001',
        base = 'o002',
        mine = 'ugol',
        main = 'htow',
        laboratory = 'nmgv',
        heroBuilder = 'e00M',
        randomHero = 'ncop'
    }
    abilities = {
        mine = 'A000',
        sell100 = 'A003',
        sell75 = 'A004',
        moveLarge = 'A007',
        moveMedium = 'A006',
        moveSmall = 'A005'
    }

    upgrades_special = {
        summonHeroBuilder = 'R000'
    }

    text = {
        mineLevel = "Level: "
    }

    main_race = {
        {id = 'hcas', race = 'human'},
        {id = 'ofrt', race = 'orc'},
        {id = 'unp2', race = 'undead'},
        {id = 'etoe', race = 'elf'},
        {id = 'ntav', race = 'other'}
    }
end
function initGame(mode)
    UseTimeOfDayBJ(false)
    SetTimeOfDay(12)
    initTeams(mode)
    initRect()

    setEnemyBetweenPlayers()
    setAllianceBetweenSpawnPlayers()
    setAllianceBetweenPlayers()
    setAllianceBetweenPlayersAndSpawnPlayers()
    changeColorAndNameSpawnPlayers()
    changeAvailableUnitsForPlayers()

    createBaseAndTower()
    addWorkers()
    setStartCameraPosition()
    createBuildingsForPlayers()
    initPanelForAllPlayers()
end

function initTeams(mode)
    all_teams = {}

    if mode == 'united' or mode == 'curved' then
        all_teams[1] = {
            i = 1,
            players = addPlayersInTeam(players_team_left),
            base = {
                player = Player(17),
                winTeam = 2,
                baseRect = nil,
                towerRect = nil
            }
        }
        all_teams[2] = {
            i = 2,
            players = addPlayersInTeam(players_team_right),
            base = {
                player = Player(12),
                winTeam = 1,
                baseRect = nil,
                towerRect = nil
            }
        }
    elseif mode == 'royal' then

        local playersPosition = {
            [1] = { 1 },
            [2] = { 1, 6 },
            [3] = { 2, 5, 9},
            [4] = { 1, 3, 6, 8},
            [5] = { 1, 3, 5, 7, 9 },
            [6] = { 1, 2, 3, 5, 7, 9 },
            [7] = { 1, 2, 3, 5, 7, 8, 9 },
            [8] = { 1, 2, 3, 4, 5, 7, 8, 9 },
            [9] = { 1, 2, 3, 4, 5, 6, 7, 8, 9 },
            [10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }
        }
        local currentPosition = playersPosition[getCountPlayers()]

        local positionId = 1
        for _, player in ipairs(mergeSequences(players_team_left, players_team_right)) do
            if (GetPlayerSlotState(player.id) == PLAYER_SLOT_STATE_PLAYING) then
                all_teams[positionId] = {
                    i = currentPosition[positionId],
                    players = addPlayersInTeam({ player }),
                    base = {
                        player = player.spawnId,
                        winTeam = 2,
                        baseRect = nil,
                        towerRect = nil
                    }
                }
                positionId = positionId + 1
            end
        end
    end
end

function getCountPlayers()
    local countActivePlayer = 0
    for _, player in ipairs(mergeSequences(players_team_left, players_team_right)) do
        if (GetPlayerSlotState(player.id) == PLAYER_SLOT_STATE_PLAYING) then
            countActivePlayer = countActivePlayer + 1
        end
    end
    return countActivePlayer
end

function mergeSequences(t1, t2)
    local result = {}
    for i = 1, #t1 do
        result[i] = t1[i]
    end
    for i = 1, #t2 do
        result[#t1 + i] = t2[i]
    end
    return result
end

function getMainPlayer()
    for _, player in ipairs(players_team_left) do
        if (GetPlayerSlotState(player.id) == PLAYER_SLOT_STATE_PLAYING) then
            return player.id
        end
    end
    for _, player in ipairs(players_team_right) do
        if (GetPlayerSlotState(player.id) == PLAYER_SLOT_STATE_PLAYING) then
            return player.id
        end
    end
end

function addPlayersInTeam(players)
    local nextPosition = 1
    local initialPlayers = {}
    for _, player in ipairs(players) do
        if (GetPlayerSlotState(player.id) == PLAYER_SLOT_STATE_PLAYING) then
            table.insert(initialPlayers, {
                id = player.id,
                color = getColorById(GetPlayerId(player.id)),
                spawnPlayerId = player.spawnId,
                i = game_config.playerPosition[nextPosition],
                economy = {
                    income = game_config.economy.startIncomePerSec,
                    minePrice = game_config.economy.firstMinePrice,
                    mineLevel = 0,
                    mineTextTag = nil,
                    totalGold = game_config.economy.startGold,
                },
                buildRect = nil,
                workerRect = nil,
                mineRect = nil,
                mainRect = nil,
                laboratoryRect = nil,
                attackPointRect = {},
                spawnRect = nil,
                spawnTimer = game_config.playerPosition[nextPosition] * game_config.spawnPolicy.interval + game_config.spawnPolicy.dif,
                heroes = {},
                totalDamage = 0,
                totalKills = 0
            })
            nextPosition = nextPosition + 1
        end
    end
    return initialPlayers
end


function getColorById(playerId)
    if (playerId == 0) then
        return BlzConvertColor(255, 255, 2, 2)
    end
    if (playerId == 1) then
        return BlzConvertColor(255, 0, 65, 255)
    end
    if (playerId == 2) then
        return BlzConvertColor(255, 27, 229, 184)
    end
    if (playerId == 3) then
        return BlzConvertColor(255, 83, 0, 128)
    end
    if (playerId == 4) then
        return BlzConvertColor(255, 255, 255, 0)
    end
    if (playerId == 5) then
        return BlzConvertColor(255, 254, 137, 13)
    end
    if (playerId == 6) then
        return BlzConvertColor(255, 31, 191, 0)
    end
    if (playerId == 7) then
        return BlzConvertColor(255, 228, 90, 170)
    end
    if (playerId == 8) then
        return BlzConvertColor(255, 148, 149, 150)
    end
    if (playerId == 9) then
        return BlzConvertColor(255, 125, 190, 241)
    end
end


function initRect()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            player.buildRect = regions[game_config.mode][team.i][player.i]['build']
            player.workerRect = regions[game_config.mode][team.i][player.i]['worker']
            player.mineRect = regions[game_config.mode][team.i][player.i]['mine']
            player.mainRect = regions[game_config.mode][team.i][player.i]['main']
            player.laboratoryRect = regions[game_config.mode][team.i][player.i]['laboratory']
            player.spawnRect = regions[game_config.mode][team.i][player.i]['spawn']
        end
        team.base.baseRect = regions[game_config.mode]['team'][team.i]['base']
        team.base.towerRect = regions[game_config.mode]['team'][team.i]['tower']
    end

    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local attackData = regions[game_config.mode][team.i][player.i]['attack']
            if not attackData then
                attackData = regions[game_config.mode]['team'][team.i]['attack']
            end
            if not attackData then
                attackData = regions[game_config.mode]['global']['attack']
            end

            local directions = { 'right', 'left', 'up', 'down' }
            for i, data in ipairs(attackData) do
                for _, dir in ipairs(directions) do
                    if data[dir] then
                        if type(data[dir]) == 'table' then
                            if data[dir][1] ~= nil then
                                player.attackPointRect[i] = { rect = data[dir][1], direction = dir, label = 1 }
                            elseif data[dir][2] ~= nil then
                                player.attackPointRect[i] = { rect = data[dir][2], direction = dir, label = 2 }
                            end
                        else
                            player.attackPointRect[i] = { rect = data[dir], direction = dir, label = nil }
                        end
                        break
                    end
                end
            end
        end
    end
end

function createBaseAndTower()
    for _, team in ipairs(all_teams) do
        if type(team.base.baseRect) == "table" then
            for _, rect in ipairs(team.base.baseRect) do
                CreateUnit(
                        team.base.player,
                        FourCC(units_special.base),
                        GetRectCenterX(rect),
                        GetRectCenterY(rect),
                        0
                )
            end
        else
            CreateUnit(
                    team.base.player,
                    FourCC(units_special.base),
                    GetRectCenterX(team.base.baseRect),
                    GetRectCenterY(team.base.baseRect),
                    0
            )
        end

        if team.base.towerRect ~= nil then
            CreateUnit(
                    team.base.player,
                    FourCC(units_special.tower),
                    GetRectCenterX(team.base.towerRect),
                    GetRectCenterY(team.base.towerRect),
                    0
            )
        end
    end
end

function createBuildingsForPlayers()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local unit = CreateUnit(
                    player.id,
                    FourCC(units_special.mine),
                    GetRectCenterX(player.mineRect),
                    GetRectCenterY(player.mineRect),
                    0
            )
            player.economy.mineTextTag = CreateTextTagUnitBJ(text.mineLevel .. player.economy.mineLevel, unit, 0, 10, 204, 204, 0, 0)

            CreateUnit(
                    player.id,
                    FourCC(units_special.main),
                    GetRectCenterX(player.mainRect),
                    GetRectCenterY(player.mainRect),
                    0
            )
            CreateUnit(
                    player.id,
                    FourCC(units_special.laboratory),
                    GetRectCenterX(player.laboratoryRect),
                    GetRectCenterY(player.laboratoryRect),
                    0
            )

        end
    end
end
function initMain(mode)
    initRegions()
    initGameConfig(mode)
    initGame(mode)
end
function setAllianceBetweenSpawnPlayers()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(getAllSpawnPlayers(team)) do
            for _, anotherPlayer in ipairs(getAllSpawnPlayers(team)) do
                if player ~= anotherPlayer then
                    SetPlayerAllianceStateBJ(player, anotherPlayer, bj_ALLIANCE_ALLIED_VISION)
                    SetPlayerAllianceStateBJ(anotherPlayer, player, bj_ALLIANCE_ALLIED_VISION)
                end
            end
        end
    end
end

function setEnemyBetweenPlayers()
    local players = {}
    ForForce(GetPlayersAll(), function()
        table.insert(players, GetEnumPlayer())
    end)

    for _, player in ipairs(players) do
        for _, anotherPlayer in ipairs(players) do
            if player ~= anotherPlayer then
                SetPlayerAllianceStateBJ(player, anotherPlayer, bj_ALLIANCE_UNALLIED)
                SetPlayerAllianceStateBJ(anotherPlayer, player, bj_ALLIANCE_UNALLIED)
            end
        end
    end

end

function getAllSpawnPlayers(team)
    local spawnPlayer = {}
    for _, player in ipairs(team.players) do
        table.insert(spawnPlayer, player.spawnPlayerId)
    end
    return spawnPlayer
end

function setAllianceBetweenPlayers()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            CreateFogModifierRect(player.id, FOG_OF_WAR_VISIBLE, GetPlayableMapRect(), TRUE, TRUE)
            SetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD, game_config.economy.startGold)
            for _, anotherPlayer in ipairs(team.players) do
                if player ~= anotherPlayer then
                    SetPlayerAllianceStateBJ(player.id, anotherPlayer.id, bj_ALLIANCE_ALLIED_VISION)
                    SetPlayerAllianceStateBJ(anotherPlayer.id, player.id, bj_ALLIANCE_ALLIED_VISION)
                end
            end
        end
    end
end

function setAllianceBetweenPlayersAndSpawnPlayers()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            for _, spawnPlayer in ipairs(getAllSpawnPlayers(team)) do
                SetPlayerName(spawnPlayer, GetPlayerName(player.id))
                SetPlayerColor(spawnPlayer, GetPlayerColor(player.id))
                SetPlayerAlliance(spawnPlayer, player.id, ALLIANCE_SHARED_VISION, TRUE)
                SetPlayerAllianceStateBJ(player.id, spawnPlayer, bj_ALLIANCE_ALLIED_VISION)
                SetPlayerAllianceStateBJ(spawnPlayer, player.id, bj_ALLIANCE_ALLIED_VISION)
            end
        end
    end
end

function changeColorAndNameSpawnPlayers()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            SetPlayerName(player.spawnPlayerId, GetPlayerName(player.id))
            SetPlayerColor(player.spawnPlayerId, GetPlayerColor(player.id))
        end
    end
end

function addWorkers()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            if type(player.workerRect) == "table" then
                for _, rect in ipairs(player.workerRect) do
                    CreateUnit(
                            player.id,
                            FourCC(units_special.builder),
                            GetRectCenterX(rect),
                            GetRectCenterY(rect),
                            0
                    )
                end
            else
                CreateUnit(
                        player.id,
                        FourCC(units_special.builder),
                        GetRectCenterX(player.workerRect),
                        GetRectCenterY(player.workerRect),
                        0
                )
            end
        end
    end
end

function changeAvailableUnitsForPlayers()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            for _, unit in ipairs(units_for_build) do
                SetPlayerUnitAvailableBJ(FourCC(unit.id), FALSE, player.id)
                for _, upgrade in ipairs(unit.upgrades) do
                    SetPlayerTechMaxAllowed(player.id, FourCC(upgrade), 0)
                end
            end
            local randomUnits = getRandomUnits(units_for_build)
            for _, unit in ipairs(randomUnits) do
                SetPlayerUnitAvailableBJ(FourCC(unit.id), TRUE, player.id)
            end


            reRollHeroes(player)
        end
    end
end

function reRollHeroes(player)
    for _, hero in ipairs(heroes_for_build) do
        SetPlayerUnitAvailableBJ(FourCC(hero.id), FALSE, player.id)
    end
    local threeHeroes = getRandomHeroes(heroes_for_build, 3)
    for _, hero in ipairs(threeHeroes) do
        SetPlayerUnitAvailableBJ(FourCC(hero.id), TRUE, player.id)
    end
end

function getRandomHeroes(heroes, count)

    local availableHeroes = {}
    for _, hero in ipairs(heroes) do
        if hero.active == true then
            table.insert(availableHeroes, hero)
        end
    end


    local selected = {}
    local result = {}

    count = math.min(count, #availableHeroes)

    while #result < count do
        local index = GetRandomInt(1, #availableHeroes)
        if not selected[index] then
            table.insert(result, availableHeroes[index])
            selected[index] = true
        end
    end

    return result
end

function getRandomUnits(units)
    local groupedUnits = {}
    local randomUnits = {}

    for _, unit in ipairs(units) do
        if not groupedUnits[unit.position] then
            groupedUnits[unit.position] = {}
        end
        if (unit.active == true) then
            table.insert(groupedUnits[unit.position], unit)
        end
    end

    for _, groupedUnit in ipairs(groupedUnits) do
        local randomIndex = GetRandomInt(1, #groupedUnit)
        table.insert(randomUnits, groupedUnit[randomIndex])
    end

    return randomUnits
end

function setStartCameraPosition()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            SetCameraPositionForPlayer(player.id, GetRectCenterX(player.mainRect), GetRectCenterY(player.mainRect))
        end
    end
end
regions = {}
function initRegions()
    for name, value in pairs(_G) do
        if string.sub(name, 1, 7) == "gg_rct_" then
            local parts = split(string.sub(name, 8), "_")

            local currentTable = regions
            for i, part in ipairs(parts) do
                if i == #parts then
                    currentTable[part] = value
                else
                    currentTable[part] = currentTable[part] or {}
                    currentTable = currentTable[part]
                end
            end
        end
    end
end

function split(str, delimiter)
    local result = {}
    for match in (str..delimiter):gmatch("(.-)"..delimiter) do
        if tonumber(match) then
            table.insert(result, tonumber(match))
        else
            table.insert(result, match)
        end
    end
    return result
end
OnInit(function()
    initGlobalVariables()
    startGameUI()
end)

function startGame(mode)
    initMain(mode)
    initialUI()
    initTriggers()
end
function cellTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterPlayerUnitEvent(trig, player.id, EVENT_PLAYER_UNIT_SPELL_EFFECT)
            TriggerAddCondition(trig, Condition(function()
                return GetSpellAbilityId() == FourCC(abilities.sell100) or GetSpellAbilityId() == FourCC(abilities.sell75)
            end))
            TriggerAddAction(trig, function()
                local unit = GetSpellAbilityUnit()
                local cost = GetUnitGoldCost(GetUnitTypeId(unit))
                TriggerSleepAction(0.1)
                RemoveUnit(unit)
                local currentGold = GetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD)

                if GetSpellAbilityId() == FourCC(abilities.sell100) then
                    SetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD, currentGold + cost)
                else
                    SetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD, currentGold + math.floor(cost * 0.75))
                end
            end)
        end
    end
end

function replaceCell(player)
    if type(player.buildRect) == "table" then
        for i in ipairs(player.buildRect) do
            local group = GetUnitsInRectAll(player.buildRect[i])
            replaceGroupCell(group)
        end
    else
        local group = GetUnitsInRectAll(player.buildRect)
        replaceGroupCell(group)
    end
end

function replaceGroupCell(group)
    ForGroup(group, function()
        local unit = GetEnumUnit()
        local ability = BlzGetUnitAbility(unit, FourCC(abilities.sell100))
        if ability ~= nil then
            UnitAddAbility(unit, FourCC(abilities.sell75))
            UnitRemoveAbilityBJ(FourCC(abilities.sell100), unit)
        end
    end)
    DestroyGroup(group)
end
function damageDetectTrigger()
    local trig = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(trig, EVENT_PLAYER_UNIT_DAMAGED)
    TriggerAddAction(trig, function()
        local source = GetEventDamageSource()
        if GetUnitTypeId(source) == FourCC(units_special.tower) or GetUnitTypeId(source) == FourCC(units_special.base) then
            return
        end
        local sourcePlayer = GetOwningPlayer(source)
        for _, team in ipairs(all_teams) do
            for _, player in ipairs(team.players) do
                if sourcePlayer == player.spawnPlayerId then
                    player.totalDamage = math.floor(player.totalDamage + GetEventDamage())
                    return
                end
            end
        end
    end)
end
function deadDetectTrigger()
    local trig = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(trig, EVENT_PLAYER_UNIT_DEATH)
    TriggerAddAction(trig, function()
        local source = GetKillingUnit()
        if GetUnitTypeId(source) == FourCC(units_special.tower) or GetUnitTypeId(source) == FourCC(units_special.base) then
            return
        end
        local sourcePlayer = GetOwningPlayer(source)
        for _, team in ipairs(all_teams) do
            for _, player in ipairs(team.players) do
                if sourcePlayer == player.spawnPlayerId then
                    player.totalKills = math.floor(player.totalKills + 1)
                    return
                end
            end
        end
    end)
end
function debugTrigger()

    local trig = CreateTrigger()
    TriggerRegisterPlayerChatEvent(trig, Player(0),"debug", true)

    TriggerAddAction(trig, function()
        SetPlayerAllianceStateBJ(Player(1), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(2), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(3), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(4), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(5), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(6), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(7), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(8), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(9), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)

        SetPlayerAllianceStateBJ(Player(10), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(11), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(12), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(13), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(14), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(15), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(16), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(17), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(18), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(19), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)
        SetPlayerAllianceStateBJ(Player(20), Player(0), bj_ALLIANCE_ALLIED_ADVUNITS)

        SetPlayerAlliance(Player(10), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(11), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(12), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(13), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(14), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(15), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(16), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(17), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(18), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(19), Player(0), ALLIANCE_SHARED_VISION, TRUE)
        SetPlayerAlliance(Player(20), Player(0), ALLIANCE_SHARED_VISION, TRUE)

        for _, team in ipairs(all_teams) do
            for _, player in ipairs(team.players) do
                SetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD, 99999)
            end
        end
    end)
end

function debugTriggerGold()

    local trig = CreateTrigger()
    TriggerRegisterPlayerChatEvent(trig, Player(0),"debug-gold", true)

    TriggerAddAction(trig, function()
        for _, team in ipairs(all_teams) do
            for _, player in ipairs(team.players) do
                SetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD, 99999)
            end
        end
    end)
end
function enableUpdateTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterPlayerUnitEvent(trig, player.id, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH, nil)
            TriggerAddAction(trig, function()

                local unit = GetTriggerUnit()
                local id = GetUnitTypeId(unit)
                local upgrades = getUpgradesById(('>I4'):pack(id))

                for _, upgrade in ipairs(upgrades) do
                    SetPlayerTechMaxAllowed(GetTriggerPlayer(), FourCC(upgrade), 3)
                end
            end)
        end
    end
end

function getUpgradesById(id)
    for _, unit in ipairs(units_for_build) do
        if unit.id == id then
            return unit.upgrades
        end
    end
    return {}
end
function finishResearchTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterAnyUnitEventBJ(trig, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
            TriggerAddAction(trig, function()
                SetPlayerTechResearchedSwap(GetResearched(), GetPlayerTechCountSimple(GetResearched(), player.id), player.spawnPlayerId)
            end)
        end
    end
end
function goldExtractorTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterPlayerUnitEvent(trig, player.id, EVENT_PLAYER_UNIT_SPELL_EFFECT)
            TriggerAddCondition(trig, Condition(function()
                return GetSpellAbilityId() == FourCC(abilities.mine)
            end))
            TriggerAddAction(trig, function()
                local abilityIntegerId = GetSpellAbilityId()
                local ability = BlzGetUnitAbility(GetTriggerUnit(), abilityIntegerId)
                player.economy.minePrice = player.economy.minePrice + game_config.economy.nextMineDiffPrice
                player.economy.income = player.economy.income + 1
                player.economy.mineLevel = player.economy.mineLevel + 1
                BlzSetAbilityIntegerLevelField(ability, ABILITY_ILF_GOLD_COST_NDT1, 0, player.economy.minePrice)

                SetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD) + game_config.economy.nextMineDiffPrice)

                DestroyTextTag(player.economy.mineTextTag)
                player.economy.mineTextTag = CreateTextTagUnitBJ(text.mineLevel .. player.economy.mineLevel, GetTriggerUnit(), 0, 10, 204, 204, 0, 0)
            end)
        end
    end
end
function heroConstructTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterPlayerUnitEventSimple(trig, player.id, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
            TriggerAddAction(trig, function()
                if isHero(('>I4'):pack(GetUnitTypeId(GetTriggerUnit()))) then
                    local group = GetUnitsOfPlayerAndTypeId(player.id, FourCC(units_special.heroBuilder))
                    KillUnit(GroupPickRandomUnit(group))
                    DestroyGroup(group)
                    table.insert(player.heroes, {
                        status = "new",
                        building = GetTriggerUnit(),
                        unit = nil,
                        newSkills = {}
                    })
                    reRollHeroes(player)
                end
            end)
        end
    end
end


function heroDeadTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterTimerEventPeriodic(trig, 1)
            TriggerAddAction(trig, function()
                for _, hero in ipairs(player.heroes) do
                    if IsUnitDeadBJ(hero.unit) and hero.status == 'alive' then
                        hero.status = 'dead'
                    end
                end
            end)
        end
    end
end
function heroLearnAbility()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterPlayerUnitEventSimple(trig, player.id, EVENT_PLAYER_HERO_SKILL)
            TriggerAddAction(trig, function()
                local learnedUnit = GetTriggerUnit()
                local learnedSkill = GetLearnedSkill()
                for _, hero in ipairs(player.heroes) do
                    if learnedUnit == hero.building then
                        table.insert(hero.newSkills, learnedSkill)
                        break
                    end
                end
            end)
        end
    end
end
function initHeroTriggers()
    heroResearchTrigger()
    heroConstructTrigger()
    heroDeadTrigger()
    heroTransferExp()
    heroLearnAbility()
    heroNewSkill()
end
function heroNewSkill()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterTimerEventPeriodic(trig, 1)
            TriggerAddAction(trig, function()
                for _, hero in ipairs(player.heroes) do
                    if hero.status == 'alive' then
                        for i = #hero.newSkills, 1, -1 do
                            SelectHeroSkill(hero.unit, hero.newSkills[i])
                            table.remove(hero.newSkills, i)
                        end
                    end
                end
            end)
        end
    end
end

function heroResearchTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterPlayerUnitEventSimple(trig, player.id, EVENT_PLAYER_UNIT_RESEARCH_FINISH)
            TriggerAddAction(trig, function()
                if (GetResearched() == FourCC(upgrades_special.summonHeroBuilder)) then
                    if type(player.workerRect) == "table" then
                        CreateUnit(player.id, FourCC(units_special.heroBuilder), GetRectCenterX(player.workerRect[1]), GetRectCenterY(player.workerRect[1]), 270)
                    else
                        CreateUnit(player.id, FourCC(units_special.heroBuilder), GetRectCenterX(player.workerRect), GetRectCenterY(player.workerRect), 270)
                    end
                end
            end)
        end
    end
end
function heroTransferExp()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterTimerEventPeriodic(trig, 1)
            TriggerAddAction(trig, function()
                for _, hero in ipairs(player.heroes) do
                    if hero.status == 'alive' then
                        local unitExp = GetHeroXP(hero.unit)
                        SetHeroXP(hero.building, unitExp, true)
                    end
                end
            end)
        end
    end
end
function incomeTrigger()
    local trig = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(trig, 1.00)
    TriggerAddAction(trig, function()
        for _, team in ipairs(all_teams) do
            for _, player in ipairs(team.players) do
                local currentGold = GetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD)
                player.economy.totalGold = player.economy.totalGold + player.economy.income
                SetPlayerState(player.id, PLAYER_STATE_RESOURCE_GOLD, currentGold + player.economy.income)
            end
        end
    end)
end
function loseTrigger()
    for _, team in ipairs(all_teams) do
        local group = GetUnitsOfPlayerAll(team.base.player)
        ForGroup(group, function()
            local unit = GetEnumUnit()
            local unitId = ('>I4'):pack(GetUnitTypeId(unit))
            if unitId == units_special.base then
                local trig = CreateTrigger()
                TriggerRegisterUnitEvent(trig, unit, EVENT_UNIT_DEATH)
                TriggerAddAction(trig, function()
                    for _, player in ipairs(team.players) do
                        local allUnits = GetUnitsOfPlayerAll(player.id)
                        ForGroup(allUnits, function()
                            KillUnit(GetEnumUnit())
                        end)
                        DestroyGroup(allUnits)

                        local allUnitsSpawn = GetUnitsOfPlayerAll(player.spawnPlayerId)
                        ForGroup(allUnitsSpawn, function()
                            KillUnit(GetEnumUnit())
                        end)
                        DestroyGroup(allUnitsSpawn)

                        CustomDefeatDialogBJ(player.id, "lose")
                        team.lose = true
                        CreateFogModifierRectBJ( true, player.id, FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
                    end
                end)
            end
        end)
        DestroyGroup(group)
    end
end

function initTriggers()
    incomeTrigger()
    moveByPointsTrigger()
    loseTrigger()
    winTrigger()
    goldExtractorTrigger()
    finishResearchTrigger()
    enableUpdateTrigger()
    customCastAITrigger()
    spellFinishTrigger()
    spawnTrigger()
    initHeroTriggers()
    cellTrigger()
    moveTrigger()
    summonTrigger()
    statusPanelUpdateTrigger()
    damageDetectTrigger()
    deadDetectTrigger()
    debugTrigger()
    debugTriggerGold()
end
function moveTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local trig = CreateTrigger()
            TriggerRegisterPlayerUnitEvent(trig, player.id, EVENT_PLAYER_UNIT_SPELL_EFFECT)
            TriggerAddCondition(trig, Condition(function()
                return GetSpellAbilityId() == FourCC(abilities.moveLarge) or
                        GetSpellAbilityId() == FourCC(abilities.moveMedium) or
                        GetSpellAbilityId() == FourCC(abilities.moveSmall)
            end))
            TriggerAddAction(trig, function()
                local location = GetSpellTargetLoc()

                if type(player.buildRect) == "table" then
                    for i in ipairs(player.buildRect) do
                        if isLocationInRectangle(location, player.buildRect[i]) then
                            local unit = GetSpellAbilityUnit()
                            SetUnitPositionLoc(unit, location)
                        end
                    end
                else
                    if isLocationInRectangle(location, player.buildRect) then
                        local unit = GetSpellAbilityUnit()
                        SetUnitPositionLoc(unit, location)
                    end
                end
            end)
        end
    end
end

function isLocationInRectangle(location, rect)
    rectMinX = GetRectMinX(rect)
    rectMinY = GetRectMinY(rect)
    rectMaxX = GetRectMaxX(rect)
    rectMaxY = GetRectMaxY(rect)

    local locX = GetLocationX(location)
    local locY = GetLocationY(location)

    return locX >= rectMinX and locX <= rectMaxX and locY >= rectMinY and locY <= rectMaxY
end

function replaceCell(player)
    if type(player.buildRect) == "table" then
        for i in ipairs(player.buildRect) do
            local group = GetUnitsInRectAll(player.buildRect[i])
            replaceGroupCell(group)
        end
    else
        local group = GetUnitsInRectAll(player.buildRect)
        replaceGroupCell(group)
    end
end

function replaceGroupCell(group)
    ForGroup(group, function()
        local unit = GetEnumUnit()
        local ability = BlzGetUnitAbility(unit, FourCC(abilities.sell100))
        if ability ~= nil then
            UnitAddAbility(unit, FourCC(abilities.sell75))
            UnitRemoveAbilityBJ(FourCC(abilities.sell100), unit)
        end
    end)
    DestroyGroup(group)
end
additionalDir = 500
function moveByPointsTrigger()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            for i = 1, #player.attackPointRect do
                local trig = CreateTrigger()
                TriggerRegisterTimerEventPeriodic(trig, 2.00)
                TriggerAddAction(trig, function()
                    local group = GetUnitsInRectAll(player.attackPointRect[i].rect)
                    ForGroup(group, function ()
                        local unit = GetEnumUnit()
                        local label = GetUnitUserData(unit)
                        local owner = GetOwningPlayer(unit)
                        if owner == player.spawnPlayerId and (label == player.attackPointRect[i].label or label == 0) then
                            if GetUnitCurrentOrder(unit) == 0 or
                                    GetUnitCurrentOrder(unit) == 851983 then
                                moveByLocation(player.attackPointRect[i], unit)
                            end
                        end
                    end)
                    DestroyGroup(group)
                end)
            end
        end
    end
end

function moveByLocation(rect, unit)
    local x, y
    if rect.direction == 'right' then
        x = GetRectMaxX(rect.rect) + additionalDir
        y = GetUnitY(unit)
    elseif rect.direction == 'down' then
        x = GetUnitX(unit)
        y = GetRectMinY(rect.rect) - additionalDir
    elseif rect.direction == 'left' then
        x = GetRectMinX(rect.rect) - additionalDir
        y = GetUnitY(unit)
    elseif rect.direction == 'up' then
        x = GetUnitX(unit)
        y = GetRectMaxY(rect.rect) + additionalDir
    end
    IssuePointOrderLoc(unit, "attack", Location(x, y))
end

function containsValue(value, array)
    for _, v in ipairs(array) do
        if v == value then
            return true
        end
    end
    return false
end
function spawnTrigger()
    local trig = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(trig, 1)
    TriggerAddAction(trig, function()
        for _, team in ipairs(all_teams) do
            for _, player in ipairs(team.players) do
                if player.spawnTimer <= 0 then
                    processGroupForSpawn(player)
                    player.spawnTimer = game_config.spawnPolicy.interval * #team.players + game_config.spawnPolicy.dif
                    replaceCell(player)
                end
                player.spawnTimer = player.spawnTimer - 1
            end
        end
    end)
end

function handleUnitSpawn(player, id, x, y, label)
    local parentId = getParentUnitId(('>I4'):pack(id))
    if parentId then
        local unit = CreateUnit(player.spawnPlayerId, FourCC(parentId), x, y, 270)
        SetUnitUserData( unit, label)
        SetUnitAcquireRangeBJ(unit, GetUnitAcquireRange(unit) * game_config.units.range)
    end
end

function handleHeroSpawn(player, unit, x, y, label)
    local unitId = GetUnitTypeId(unit)
    local hero = getHero(player.heroes, unit)
    if hero.status == "new" then
        local unit = CreateUnit(player.spawnPlayerId, FourCC(getHeroUnitId(('>I4'):pack(unitId))), x, y, 270)
        SetUnitAcquireRangeBJ(unit, GetUnitAcquireRange(unit) * game_config.units.range)
        SetUnitUserData( unit, label)
        hero.status = "alive"
        hero.unit = unit
    elseif hero.status == "dead" then
        hero.status = "alive"
        ReviveHeroLoc(hero.unit, Location(x, y), false)
        SetUnitManaPercentBJ(hero.unit, 100)
    end
end

function getHero(heroes, unit)
    for _, hero in ipairs(heroes) do
        if hero.building == unit then
            return hero
        end
    end
    return nil
end

function processGroupForSpawn(player)
    local function processRect(buildRect, spawnRect, label)
        local groupForBuild = GetUnitsInRectAll(buildRect)
        ForGroup(groupForBuild, function()
            local unit = GetEnumUnit()
            local id = GetUnitTypeId(unit)
            local owner = GetOwningPlayer(unit)
            if owner == player.id then
                local x, y = calculateDif(buildRect, spawnRect, unit)
                if isHero(('>I4'):pack(id)) then
                    handleHeroSpawn(player, unit, x, y, label)
                else
                    handleUnitSpawn(player, id, x, y, label)
                end
            end
        end)
        DestroyGroup(groupForBuild)
    end

    if type(player.buildRect) == "table" then
        for i in ipairs(player.buildRect) do
            processRect(player.buildRect[i], player.spawnRect[i], i)
        end
    else
        processRect(player.buildRect, player.spawnRect, 0)
    end
end

function getParentUnitId(searchId)
    for _, unit in pairs(units_for_build) do
        if unit.id == searchId then
            return unit.parentId
        end
    end
    return nil
end

function getHeroUnitId(searchId)
    for _, unit in pairs(heroes_for_build) do
        if unit.id == searchId then
            return unit.parentId
        end
    end
    return nil
end

function isHero(id)
    for _, hero in ipairs(heroes_for_build) do
        if hero.id == id then
            return true
        end
    end
    return false
end
custom_cast_ai_params = {
    {
        unitId = 'u006',
        order = 'antimagicshell',
        timeout = 2.00
    },
    {
        unitId = 'h00H',
        order = 'innerfire',
        timeout = 5.00
    }
}
function customCastAITrigger()
    for _, castParam in ipairs(custom_cast_ai_params) do
        createTriggerByCastParam(castParam)
    end
end

function createTriggerByCastParam(castParam)
    local trig = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(trig, castParam.timeout)
    TriggerAddAction(trig, function()
        local group = GetUnitsOfTypeIdAll(FourCC(castParam.unitId))
        ForGroup(group, function()
            local randomUnit = GroupPickRandomUnit(
                    GetUnitsInRangeOfLocMatching(
                            500,
                            GetUnitLoc(GetEnumUnit()),
                            Filter(function()
                                local filterUnit = GetFilterUnit()
                                local ownerFilterUnit = GetOwningPlayer(filterUnit)
                                return getSpawnPlayerIds(GetOwningPlayer(GetEnumUnit()), ownerFilterUnit)
                            end)
                    )
            )
            IssueTargetOrderBJ(GetEnumUnit(), castParam.order, randomUnit)
        end)
    end)
end

function getSpawnPlayerIds(player, checkPlayer)
    for _, team in ipairs(all_teams) do
        for _, p in ipairs(team.players) do
            if p.spawnPlayerId == player then
                for _, spawnP in ipairs(getAllSpawnPlayers(team)) do
                    if spawnP == checkPlayer then
                        return true
                    end
                end
            end
        end
    end
    return false
end
function spellFinishTrigger()
    local trig = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(trig, EVENT_PLAYER_UNIT_SPELL_FINISH)
    TriggerAddAction(trig, function()

        local attackPointRect = getAttackPointRect(GetOwningPlayer(GetTriggerUnit()))
        for _, atPointRect in ipairs(attackPointRect) do
            if IsUnitInRect(atPointRect.rect, GetTriggerUnit()) then
                moveByLocation(atPointRect, GetTriggerUnit())
                return
            end
        end
    end)
end

function IsUnitInRect(r, u)
    return GetUnitX(u) > GetRectMinX(r)-32 and GetUnitX(u) < GetRectMaxX(r)+32 and GetUnitY(u) > GetRectMinY(r)-32 and GetUnitY(u) < GetRectMaxY(r)+32
end


function getAttackPointRect(castPlayer)
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            if player.spawnPlayerId == castPlayer then
                return player.attackPointRect
            end
        end
    end
end
function statusPanelUpdateTrigger()
    local trig = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(trig, 1.00)
    TriggerAddAction(trig, function()
        updatePanelForAllPlayers()
    end)
end
function summonTrigger()
    local trig = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(trig, EVENT_PLAYER_UNIT_SUMMON)
    TriggerAddAction(trig, function()
        SetUnitUserData(GetSummonedUnit(), GetUnitUserData(GetSummoningUnit()))
    end)
end
function winTrigger()
    local trig = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(trig, 1.00)
    TriggerAddAction(trig, function()
        local notLoseTeams = {}
        for _, team in ipairs(all_teams) do
            if team.lose ~= true then
                table.insert(notLoseTeams, team)
            end
        end
        if #notLoseTeams == 1 then
            for _, player in ipairs(notLoseTeams[1].players) do
                CustomVictoryBJ(player.id, true, true)
            end
        end
    end)
end
function initialUI()
    local fm = BlzGetFrameByName("ConsoleUIBackdrop", 0)
    frame = BlzCreateFrameByType("TEXT", "MyTextFrame", fm, "", 0)
    BlzFrameSetAbsPoint(frame, FRAMEPOINT_CENTER, 0.85, 0.5)
    BlzFrameSetEnable(frame, false)
    BlzFrameSetScale(frame, 1)
end

function startGameUI()
    BlzLoadTOCFile("war3mapimported\\templates.toc")
    popupFrame = BlzCreateFrame("StartGameMenu", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)
    BlzFrameSetAbsPoint(popupFrame, FRAMEPOINT_CENTER, 0.4, 0.35)
    local selectingText = BlzGetFrameByName("StartGameMenuModeSelecting", 0)
    BlzFrameSetText(selectingText, GetPlayerName(getMainPlayer()) .. " is selecting...")

    initModeButton("CurvedButton", 'curved')
    initModeButton("UnitedButton", 'united')
    initModeButton("RoyalButton", 'royal')
    initUnitsAvailableButtons()
end

function initModeButton(buttonName, mode)
    local button = BlzGetFrameByName(buttonName, 0)
    local trig = CreateTrigger()
    BlzTriggerRegisterFrameEvent(trig, button, FRAMEEVENT_CONTROL_CLICK)
    TriggerAddAction(trig, function()
        if GetTriggerPlayer() == getMainPlayer() then
            BlzFrameSetVisible(popupFrame, FALSE)
            startGame(mode)
        end
    end)
end

function initUnitsAvailableButtons()


    for i, race in ipairs(main_race) do
        initRaceAvailableButton(race, i, "StartGameMenuUnits", units_for_build, 5)
    end

    for _, unit in ipairs(units_for_build) do
        initUnitAvailableButton(unit, "StartGameMenuUnits")
    end

    for i, race in ipairs(main_race) do
        initRaceAvailableButton(race, i, "StartGameMenuHeroes", heroes_for_build, 6)
    end

    for _, hero in ipairs(heroes_for_build) do
        initUnitAvailableButton(hero, "StartGameMenuHeroes")
    end
end

function initRaceAvailableButton(race, position, frameName, unitContainer, max)
    if position >= max then
        return
    end
    local button = BlzCreateFrame("MyIconButtonTemplate", BlzGetFrameByName(frameName, 0), 0, 0)
    BlzFrameSetPoint(button, FRAMEPOINT_TOPLEFT, BlzGetFrameByName(frameName, 0), FRAMEPOINT_TOPLEFT, 0.005, -(0.01 + (BlzFrameGetHeight(button) * position)))

    local buttonTexture = BlzGetFrameByName("MyButtonBackdropTemplate", 0)
    BlzFrameSetTexture(buttonTexture, BlzGetAbilityIcon(FourCC(race.id)), 0, true)

    race.active = true
    local trig = CreateTrigger()
    BlzTriggerRegisterFrameEvent(trig, button, FRAMEEVENT_CONTROL_CLICK)
    TriggerAddAction(trig, function()
        if GetTriggerPlayer() ~= getMainPlayer() then
            return
        end
        if race.active == true then
            race.active = false
            BlzFrameSetTexture(buttonTexture, replaceTexture(BlzGetAbilityIcon(FourCC(race.id))), 0, true)
            for _, unit in ipairs(unitContainer) do
                if unit.race == race.race then
                    unit.active = false
                    BlzFrameSetTexture(unit.buttonTexture, replaceTexture(BlzGetAbilityIcon(FourCC(unit.parentId))), 0, true)
                end
            end
        else
            race.active = true
            BlzFrameSetTexture(buttonTexture, BlzGetAbilityIcon(FourCC(race.id)), 0, true)
            for _, unit in ipairs(unitContainer) do
                if unit.race == race.race then
                    unit.active = true
                    BlzFrameSetTexture(unit.buttonTexture, BlzGetAbilityIcon(FourCC(unit.parentId)), 0, true)
                end
            end
        end
    end)
end

function initUnitAvailableButton(unit, containerFrame)
    local button = BlzCreateFrame("MyIconButtonTemplate", BlzGetFrameByName(containerFrame, 0), 0, 0)
    BlzFrameSetPoint(button, FRAMEPOINT_TOPLEFT, BlzGetFrameByName(containerFrame, 0), FRAMEPOINT_TOPLEFT, 0.01 + (BlzFrameGetWidth(button) * unit.position), -(0.01 + (BlzFrameGetHeight(button) * unit.line)))

    local buttonTexture = BlzGetFrameByName("MyButtonBackdropTemplate", 0)
    BlzFrameSetTexture(buttonTexture, BlzGetAbilityIcon(FourCC(unit.parentId)), 0, true)

    unit.active = true
    unit.buttonTexture = buttonTexture
    local trig = CreateTrigger()
    BlzTriggerRegisterFrameEvent(trig, button, FRAMEEVENT_CONTROL_CLICK)
    TriggerAddAction(trig, function()
        if GetTriggerPlayer() ~= getMainPlayer() then
            return
        end
        if unit.active == true then
            unit.active = false
            BlzFrameSetTexture(buttonTexture, replaceTexture(BlzGetAbilityIcon(FourCC(unit.parentId))), 0, true)
        else
            unit.active = true
            BlzFrameSetTexture(buttonTexture, BlzGetAbilityIcon(FourCC(unit.parentId)), 0, true)
        end
    end)
end

function replaceTexture(inputString)
    local replacedString = inputString:gsub("ReplaceableTextures\\CommandButtons\\(.-)%.blp", "ReplaceableTextures\\CommandButtonsDisabled\\DIS%1.blp")
    return replacedString
end

function getTableInfo()
    local tableInfo = {}
    tableInfo.header = {
        { text = 'Name', weight = 0.085 },
        { text = 'Wave', weight = 0.03 },
        { text = 'Inc', weight = 0.03 },
        { text = 'Gold', weight = 0.045 },
        { text = 'Kills', weight = 0.05 },
        { text = 'Damage', weight = 0.06 },
    }
    tableInfo.body = {}
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            table.insert(tableInfo.body, {
                {
                    text = GetPlayerName(player.id),
                    color = player.color,
                    isSensitive = false
                },
                {
                    text = player.spawnTimer,
                    color = player.color,
                    isSensitive = false
                },
                {
                    text = player.economy.income,
                    color = player.color,
                    isSensitive = true
                },
                {
                    text = player.economy.totalGold,
                    color = player.color,
                    isSensitive = true
                },
                {
                    text = player.totalKills,
                    color = player.color,
                    isSensitive = false
                },
                {
                    text = player.totalDamage,
                    color = player.color,
                    isSensitive = false
                }
            })
        end
    end
    return tableInfo
end

function updatePanelForAllPlayers()
    local updatedTableInfo = getTableInfo()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do
            local myPanel = player.statePanel
            if myPanel then

                for i, headerColumn in ipairs(updatedTableInfo.header) do
                    local headerFrame = BlzFrameGetChild(myPanel, i - 1)
                    BlzFrameSetText(headerFrame, headerColumn.text)
                end

                local headerCount = #updatedTableInfo.header
                for i, row in ipairs(updatedTableInfo.body) do
                    local isLocalPlayer = false
                    for j, element in ipairs(row) do
                        local bodyIndex = headerCount + ((i - 1) * #row) + (j - 1)
                        local bodyFrame = BlzFrameGetChild(myPanel, bodyIndex)

                        local text = BlzFrameGetText(bodyFrame)

                        if isPlayerInTeam(text, team.players) then
                            isLocalPlayer = true
                        end

                        if isLocalPlayer == true then
                            BlzFrameSetText(bodyFrame, element.text)
                        else
                            if element.isSensitive == true then
                                BlzFrameSetText(bodyFrame, "***")
                            else
                                BlzFrameSetText(bodyFrame, element.text)
                            end
                        end
                    end
                end
            end
        end
    end
end

function isPlayerInTeam(text, players)
    for _, player in ipairs(players) do
        if text == GetPlayerName(player.id) then
            return true
        end
    end
    return false
end

function initPanelForAllPlayers()
    local tableInfo = getTableInfo()
    for _, team in ipairs(all_teams) do
        for _, player in ipairs(team.players) do

            local myPanel = BlzCreateFrameByType("BACKDROP", "CurvedStatusTemplateMy", BlzGetFrameByName("ConsoleUIBackdrop", 0), "QuestButtonDisabledBackdropTemplate", 0)

            BlzFrameSetAbsPoint(myPanel, FRAMEPOINT_TOPRIGHT, 0.93, 0.56)

            local totalWeight = 0
            for _, headerColumn in ipairs(tableInfo.header) do
                totalWeight = totalWeight + headerColumn.weight + 0.005
            end
            local totalHeight = #tableInfo.body + 4
            BlzFrameSetSize(myPanel, totalWeight + 0.015, totalHeight * 0.01)
            BlzFrameSetAlpha(myPanel, 220)


            local prevColumn = nil
            for i, headerColumn in ipairs(tableInfo.header) do
                local column = BlzCreateFrameByType('TEXT', 'CurvedStatusHeader', myPanel, 'TeamLabelTextTemplate', 0)
                BlzFrameSetSize(column, headerColumn.weight, 0.2)
                BlzFrameSetText(column, headerColumn.text)
                BlzFrameSetTextAlignment(column, TEXT_JUSTIFY_TOP, TEXT_JUSTIFY_LEFT)
                if i == 1 then
                    BlzFrameSetPoint(column, FRAMEPOINT_TOPLEFT, myPanel, FRAMEPOINT_TOPLEFT, 0.01, -0.01)
                else
                    BlzFrameSetPoint(column, FRAMEPOINT_TOPLEFT, prevColumn, FRAMEPOINT_TOPRIGHT, 0.005, 0)
                end
                prevColumn = column
            end

            for i, row in ipairs(tableInfo.body) do
                local prevColumn = nil
                for j, element in ipairs(row) do
                    local column = BlzCreateFrameByType('TEXT', 'CurvedStatusRow1', myPanel, 'TeamLabelTextTemplate', 0)
                    BlzFrameSetSize(column, tableInfo.header[j].weight, 0.2)
                    BlzFrameSetTextAlignment(column, TEXT_JUSTIFY_TOP, TEXT_JUSTIFY_LEFT)
                    BlzFrameSetTextColor(column, element.color)
                    if j == 1 then
                        if i == 1 then
                            BlzFrameSetPoint(column, FRAMEPOINT_TOPLEFT, myPanel, FRAMEPOINT_TOPLEFT, 0.01, -0.03)
                        else
                            BlzFrameSetPoint(column, FRAMEPOINT_TOPLEFT, myPanel, FRAMEPOINT_TOPLEFT, 0.01, -0.02 - (0.01 * i))
                        end
                    else
                        BlzFrameSetPoint(column, FRAMEPOINT_TOPLEFT, prevColumn, FRAMEPOINT_TOPRIGHT, 0.005, 0)
                    end
                    prevColumn = column
                end
            end
            BlzFrameSetVisible(myPanel, GetLocalPlayer() == player.id)
            player.statePanel = myPanel
        end
    end
end


--CUSTOM_CODE
function InitCustomPlayerSlots()
SetPlayerStartLocation(Player(0), 0)
ForcePlayerStartLocation(Player(0), 0)
SetPlayerColor(Player(0), ConvertPlayerColor(0))
SetPlayerRacePreference(Player(0), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(0), false)
SetPlayerController(Player(0), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(1), 1)
ForcePlayerStartLocation(Player(1), 1)
SetPlayerColor(Player(1), ConvertPlayerColor(1))
SetPlayerRacePreference(Player(1), RACE_PREF_ORC)
SetPlayerRaceSelectable(Player(1), false)
SetPlayerController(Player(1), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(2), 2)
ForcePlayerStartLocation(Player(2), 2)
SetPlayerColor(Player(2), ConvertPlayerColor(2))
SetPlayerRacePreference(Player(2), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(2), false)
SetPlayerController(Player(2), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(3), 3)
ForcePlayerStartLocation(Player(3), 3)
SetPlayerColor(Player(3), ConvertPlayerColor(3))
SetPlayerRacePreference(Player(3), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(3), false)
SetPlayerController(Player(3), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(4), 4)
ForcePlayerStartLocation(Player(4), 4)
SetPlayerColor(Player(4), ConvertPlayerColor(4))
SetPlayerRacePreference(Player(4), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(4), false)
SetPlayerController(Player(4), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(5), 5)
ForcePlayerStartLocation(Player(5), 5)
SetPlayerColor(Player(5), ConvertPlayerColor(5))
SetPlayerRacePreference(Player(5), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(5), false)
SetPlayerController(Player(5), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(6), 6)
ForcePlayerStartLocation(Player(6), 6)
SetPlayerColor(Player(6), ConvertPlayerColor(6))
SetPlayerRacePreference(Player(6), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(6), false)
SetPlayerController(Player(6), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(7), 7)
ForcePlayerStartLocation(Player(7), 7)
SetPlayerColor(Player(7), ConvertPlayerColor(7))
SetPlayerRacePreference(Player(7), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(7), false)
SetPlayerController(Player(7), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(8), 8)
ForcePlayerStartLocation(Player(8), 8)
SetPlayerColor(Player(8), ConvertPlayerColor(8))
SetPlayerRacePreference(Player(8), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(8), false)
SetPlayerController(Player(8), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(9), 9)
ForcePlayerStartLocation(Player(9), 9)
SetPlayerColor(Player(9), ConvertPlayerColor(9))
SetPlayerRacePreference(Player(9), RACE_PREF_HUMAN)
SetPlayerRaceSelectable(Player(9), false)
SetPlayerController(Player(9), MAP_CONTROL_USER)
SetPlayerStartLocation(Player(10), 10)
SetPlayerColor(Player(10), ConvertPlayerColor(10))
SetPlayerRacePreference(Player(10), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(10), true)
SetPlayerController(Player(10), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(11), 11)
SetPlayerColor(Player(11), ConvertPlayerColor(11))
SetPlayerRacePreference(Player(11), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(11), true)
SetPlayerController(Player(11), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(12), 12)
SetPlayerColor(Player(12), ConvertPlayerColor(12))
SetPlayerRacePreference(Player(12), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(12), true)
SetPlayerController(Player(12), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(13), 13)
SetPlayerColor(Player(13), ConvertPlayerColor(13))
SetPlayerRacePreference(Player(13), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(13), true)
SetPlayerController(Player(13), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(14), 14)
SetPlayerColor(Player(14), ConvertPlayerColor(14))
SetPlayerRacePreference(Player(14), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(14), true)
SetPlayerController(Player(14), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(15), 15)
SetPlayerColor(Player(15), ConvertPlayerColor(15))
SetPlayerRacePreference(Player(15), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(15), true)
SetPlayerController(Player(15), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(16), 16)
SetPlayerColor(Player(16), ConvertPlayerColor(16))
SetPlayerRacePreference(Player(16), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(16), true)
SetPlayerController(Player(16), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(17), 17)
SetPlayerColor(Player(17), ConvertPlayerColor(17))
SetPlayerRacePreference(Player(17), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(17), true)
SetPlayerController(Player(17), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(18), 18)
SetPlayerColor(Player(18), ConvertPlayerColor(18))
SetPlayerRacePreference(Player(18), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(18), true)
SetPlayerController(Player(18), MAP_CONTROL_COMPUTER)
SetPlayerStartLocation(Player(19), 19)
SetPlayerColor(Player(19), ConvertPlayerColor(19))
SetPlayerRacePreference(Player(19), RACE_PREF_RANDOM)
SetPlayerRaceSelectable(Player(19), true)
SetPlayerController(Player(19), MAP_CONTROL_COMPUTER)
end

function InitCustomTeams()
SetPlayerTeam(Player(0), 0)
SetPlayerTeam(Player(2), 0)
SetPlayerTeam(Player(3), 0)
SetPlayerTeam(Player(4), 0)
SetPlayerTeam(Player(5), 0)
SetPlayerTeam(Player(1), 1)
SetPlayerTeam(Player(6), 1)
SetPlayerTeam(Player(7), 1)
SetPlayerTeam(Player(8), 1)
SetPlayerTeam(Player(9), 1)
SetPlayerAllianceStateAllyBJ(Player(1), Player(6), true)
SetPlayerAllianceStateAllyBJ(Player(1), Player(7), true)
SetPlayerAllianceStateAllyBJ(Player(1), Player(8), true)
SetPlayerAllianceStateAllyBJ(Player(1), Player(9), true)
SetPlayerAllianceStateAllyBJ(Player(6), Player(1), true)
SetPlayerAllianceStateAllyBJ(Player(6), Player(7), true)
SetPlayerAllianceStateAllyBJ(Player(6), Player(8), true)
SetPlayerAllianceStateAllyBJ(Player(6), Player(9), true)
SetPlayerAllianceStateAllyBJ(Player(7), Player(1), true)
SetPlayerAllianceStateAllyBJ(Player(7), Player(6), true)
SetPlayerAllianceStateAllyBJ(Player(7), Player(8), true)
SetPlayerAllianceStateAllyBJ(Player(7), Player(9), true)
SetPlayerAllianceStateAllyBJ(Player(8), Player(1), true)
SetPlayerAllianceStateAllyBJ(Player(8), Player(6), true)
SetPlayerAllianceStateAllyBJ(Player(8), Player(7), true)
SetPlayerAllianceStateAllyBJ(Player(8), Player(9), true)
SetPlayerAllianceStateAllyBJ(Player(9), Player(1), true)
SetPlayerAllianceStateAllyBJ(Player(9), Player(6), true)
SetPlayerAllianceStateAllyBJ(Player(9), Player(7), true)
SetPlayerAllianceStateAllyBJ(Player(9), Player(8), true)
SetPlayerAllianceStateVisionBJ(Player(1), Player(6), true)
SetPlayerAllianceStateVisionBJ(Player(1), Player(7), true)
SetPlayerAllianceStateVisionBJ(Player(1), Player(8), true)
SetPlayerAllianceStateVisionBJ(Player(1), Player(9), true)
SetPlayerAllianceStateVisionBJ(Player(6), Player(1), true)
SetPlayerAllianceStateVisionBJ(Player(6), Player(7), true)
SetPlayerAllianceStateVisionBJ(Player(6), Player(8), true)
SetPlayerAllianceStateVisionBJ(Player(6), Player(9), true)
SetPlayerAllianceStateVisionBJ(Player(7), Player(1), true)
SetPlayerAllianceStateVisionBJ(Player(7), Player(6), true)
SetPlayerAllianceStateVisionBJ(Player(7), Player(8), true)
SetPlayerAllianceStateVisionBJ(Player(7), Player(9), true)
SetPlayerAllianceStateVisionBJ(Player(8), Player(1), true)
SetPlayerAllianceStateVisionBJ(Player(8), Player(6), true)
SetPlayerAllianceStateVisionBJ(Player(8), Player(7), true)
SetPlayerAllianceStateVisionBJ(Player(8), Player(9), true)
SetPlayerAllianceStateVisionBJ(Player(9), Player(1), true)
SetPlayerAllianceStateVisionBJ(Player(9), Player(6), true)
SetPlayerAllianceStateVisionBJ(Player(9), Player(7), true)
SetPlayerAllianceStateVisionBJ(Player(9), Player(8), true)
SetPlayerTeam(Player(10), 2)
SetPlayerTeam(Player(11), 2)
SetPlayerTeam(Player(12), 2)
SetPlayerTeam(Player(13), 2)
SetPlayerTeam(Player(14), 2)
SetPlayerAllianceStateAllyBJ(Player(10), Player(11), true)
SetPlayerAllianceStateAllyBJ(Player(10), Player(12), true)
SetPlayerAllianceStateAllyBJ(Player(10), Player(13), true)
SetPlayerAllianceStateAllyBJ(Player(10), Player(14), true)
SetPlayerAllianceStateAllyBJ(Player(11), Player(10), true)
SetPlayerAllianceStateAllyBJ(Player(11), Player(12), true)
SetPlayerAllianceStateAllyBJ(Player(11), Player(13), true)
SetPlayerAllianceStateAllyBJ(Player(11), Player(14), true)
SetPlayerAllianceStateAllyBJ(Player(12), Player(10), true)
SetPlayerAllianceStateAllyBJ(Player(12), Player(11), true)
SetPlayerAllianceStateAllyBJ(Player(12), Player(13), true)
SetPlayerAllianceStateAllyBJ(Player(12), Player(14), true)
SetPlayerAllianceStateAllyBJ(Player(13), Player(10), true)
SetPlayerAllianceStateAllyBJ(Player(13), Player(11), true)
SetPlayerAllianceStateAllyBJ(Player(13), Player(12), true)
SetPlayerAllianceStateAllyBJ(Player(13), Player(14), true)
SetPlayerAllianceStateAllyBJ(Player(14), Player(10), true)
SetPlayerAllianceStateAllyBJ(Player(14), Player(11), true)
SetPlayerAllianceStateAllyBJ(Player(14), Player(12), true)
SetPlayerAllianceStateAllyBJ(Player(14), Player(13), true)
SetPlayerAllianceStateVisionBJ(Player(10), Player(11), true)
SetPlayerAllianceStateVisionBJ(Player(10), Player(12), true)
SetPlayerAllianceStateVisionBJ(Player(10), Player(13), true)
SetPlayerAllianceStateVisionBJ(Player(10), Player(14), true)
SetPlayerAllianceStateVisionBJ(Player(11), Player(10), true)
SetPlayerAllianceStateVisionBJ(Player(11), Player(12), true)
SetPlayerAllianceStateVisionBJ(Player(11), Player(13), true)
SetPlayerAllianceStateVisionBJ(Player(11), Player(14), true)
SetPlayerAllianceStateVisionBJ(Player(12), Player(10), true)
SetPlayerAllianceStateVisionBJ(Player(12), Player(11), true)
SetPlayerAllianceStateVisionBJ(Player(12), Player(13), true)
SetPlayerAllianceStateVisionBJ(Player(12), Player(14), true)
SetPlayerAllianceStateVisionBJ(Player(13), Player(10), true)
SetPlayerAllianceStateVisionBJ(Player(13), Player(11), true)
SetPlayerAllianceStateVisionBJ(Player(13), Player(12), true)
SetPlayerAllianceStateVisionBJ(Player(13), Player(14), true)
SetPlayerAllianceStateVisionBJ(Player(14), Player(10), true)
SetPlayerAllianceStateVisionBJ(Player(14), Player(11), true)
SetPlayerAllianceStateVisionBJ(Player(14), Player(12), true)
SetPlayerAllianceStateVisionBJ(Player(14), Player(13), true)
SetPlayerTeam(Player(15), 3)
SetPlayerTeam(Player(16), 3)
SetPlayerTeam(Player(17), 3)
SetPlayerTeam(Player(18), 3)
SetPlayerTeam(Player(19), 3)
SetPlayerAllianceStateAllyBJ(Player(15), Player(16), true)
SetPlayerAllianceStateAllyBJ(Player(15), Player(17), true)
SetPlayerAllianceStateAllyBJ(Player(15), Player(18), true)
SetPlayerAllianceStateAllyBJ(Player(15), Player(19), true)
SetPlayerAllianceStateAllyBJ(Player(16), Player(15), true)
SetPlayerAllianceStateAllyBJ(Player(16), Player(17), true)
SetPlayerAllianceStateAllyBJ(Player(16), Player(18), true)
SetPlayerAllianceStateAllyBJ(Player(16), Player(19), true)
SetPlayerAllianceStateAllyBJ(Player(17), Player(15), true)
SetPlayerAllianceStateAllyBJ(Player(17), Player(16), true)
SetPlayerAllianceStateAllyBJ(Player(17), Player(18), true)
SetPlayerAllianceStateAllyBJ(Player(17), Player(19), true)
SetPlayerAllianceStateAllyBJ(Player(18), Player(15), true)
SetPlayerAllianceStateAllyBJ(Player(18), Player(16), true)
SetPlayerAllianceStateAllyBJ(Player(18), Player(17), true)
SetPlayerAllianceStateAllyBJ(Player(18), Player(19), true)
SetPlayerAllianceStateAllyBJ(Player(19), Player(15), true)
SetPlayerAllianceStateAllyBJ(Player(19), Player(16), true)
SetPlayerAllianceStateAllyBJ(Player(19), Player(17), true)
SetPlayerAllianceStateAllyBJ(Player(19), Player(18), true)
SetPlayerAllianceStateVisionBJ(Player(15), Player(16), true)
SetPlayerAllianceStateVisionBJ(Player(15), Player(17), true)
SetPlayerAllianceStateVisionBJ(Player(15), Player(18), true)
SetPlayerAllianceStateVisionBJ(Player(15), Player(19), true)
SetPlayerAllianceStateVisionBJ(Player(16), Player(15), true)
SetPlayerAllianceStateVisionBJ(Player(16), Player(17), true)
SetPlayerAllianceStateVisionBJ(Player(16), Player(18), true)
SetPlayerAllianceStateVisionBJ(Player(16), Player(19), true)
SetPlayerAllianceStateVisionBJ(Player(17), Player(15), true)
SetPlayerAllianceStateVisionBJ(Player(17), Player(16), true)
SetPlayerAllianceStateVisionBJ(Player(17), Player(18), true)
SetPlayerAllianceStateVisionBJ(Player(17), Player(19), true)
SetPlayerAllianceStateVisionBJ(Player(18), Player(15), true)
SetPlayerAllianceStateVisionBJ(Player(18), Player(16), true)
SetPlayerAllianceStateVisionBJ(Player(18), Player(17), true)
SetPlayerAllianceStateVisionBJ(Player(18), Player(19), true)
SetPlayerAllianceStateVisionBJ(Player(19), Player(15), true)
SetPlayerAllianceStateVisionBJ(Player(19), Player(16), true)
SetPlayerAllianceStateVisionBJ(Player(19), Player(17), true)
SetPlayerAllianceStateVisionBJ(Player(19), Player(18), true)
end

function InitAllyPriorities()
SetStartLocPrioCount(0, 9)
SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 2, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 3, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 4, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 5, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 6, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(0, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(1, 9)
SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 2, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 3, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 4, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 5, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 6, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(1, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(2, 9)
SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 2, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 3, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 4, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 5, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 6, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(2, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(3, 9)
SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 3, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 4, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 5, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 6, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(3, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(4, 9)
SetStartLocPrio(4, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 2, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 3, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 4, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 5, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 6, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(4, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(5, 9)
SetStartLocPrio(5, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 2, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 3, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 4, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 5, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 6, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(5, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(6, 9)
SetStartLocPrio(6, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 2, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 3, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 4, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 5, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 6, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(6, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(7, 9)
SetStartLocPrio(7, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 2, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 3, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 4, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 5, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 6, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 7, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(7, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(8, 9)
SetStartLocPrio(8, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 2, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 3, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 4, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 5, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 6, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 7, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(8, 8, 9, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(9, 9)
SetStartLocPrio(9, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 1, 1, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 2, 2, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 3, 3, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 4, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 5, 5, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 6, 6, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 7, 7, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(9, 8, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(10, 3)
SetStartLocPrio(10, 0, 4, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(10, 1, 17, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(10, 2, 19, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrioCount(10, 1)
SetEnemyStartLocPrio(10, 0, 18, MAP_LOC_PRIO_LOW)
SetStartLocPrioCount(11, 4)
SetStartLocPrio(11, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(11, 1, 4, MAP_LOC_PRIO_LOW)
SetStartLocPrio(11, 2, 18, MAP_LOC_PRIO_LOW)
SetStartLocPrio(11, 3, 19, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrioCount(11, 3)
SetEnemyStartLocPrio(11, 0, 4, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrio(11, 1, 17, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrio(11, 2, 19, MAP_LOC_PRIO_LOW)
SetStartLocPrioCount(12, 3)
SetStartLocPrio(12, 0, 17, MAP_LOC_PRIO_LOW)
SetStartLocPrio(12, 1, 18, MAP_LOC_PRIO_LOW)
SetStartLocPrio(12, 2, 19, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrioCount(12, 3)
SetEnemyStartLocPrio(12, 0, 1, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrio(12, 1, 18, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrio(12, 2, 19, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(13, 1)
SetStartLocPrio(13, 0, 0, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrioCount(13, 2)
SetEnemyStartLocPrio(13, 0, 4, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrio(13, 1, 18, MAP_LOC_PRIO_LOW)
SetStartLocPrioCount(14, 2)
SetStartLocPrio(14, 0, 8, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(14, 1, 9, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrioCount(14, 2)
SetEnemyStartLocPrio(14, 0, 4, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrio(14, 1, 19, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(15, 1)
SetStartLocPrio(15, 0, 17, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrioCount(15, 3)
SetEnemyStartLocPrio(15, 0, 1, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrio(15, 1, 18, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrio(15, 2, 19, MAP_LOC_PRIO_LOW)
SetStartLocPrioCount(16, 1)
SetStartLocPrio(16, 0, 19, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrioCount(16, 3)
SetEnemyStartLocPrio(16, 0, 4, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrio(16, 1, 18, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrio(16, 2, 19, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(17, 3)
SetStartLocPrio(17, 0, 4, MAP_LOC_PRIO_LOW)
SetStartLocPrio(17, 1, 18, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(17, 2, 19, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrioCount(17, 2)
SetEnemyStartLocPrio(17, 0, 18, MAP_LOC_PRIO_HIGH)
SetStartLocPrioCount(18, 2)
SetStartLocPrio(18, 0, 0, MAP_LOC_PRIO_HIGH)
SetStartLocPrio(18, 1, 17, MAP_LOC_PRIO_HIGH)
SetEnemyStartLocPrioCount(18, 1)
SetStartLocPrioCount(19, 1)
SetStartLocPrio(19, 0, 18, MAP_LOC_PRIO_LOW)
SetEnemyStartLocPrioCount(19, 1)
SetEnemyStartLocPrio(19, 0, 18, MAP_LOC_PRIO_LOW)
end

function main()
SetCameraBounds(-16128.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -28672.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 32256.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 11264.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -16128.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 11264.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 32256.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -28672.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
NewSoundEnvironment("Default")
SetAmbientDaySound("LordaeronSummerDay")
SetAmbientNightSound("LordaeronSummerNight")
SetMapMusic("Music", true, 0)
CreateRegions()
InitBlizzard()
InitGlobals()
end

function config()
SetMapName("TRIGSTR_001")
SetMapDescription("TRIGSTR_003")
SetPlayers(20)
SetTeams(20)
SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
DefineStartLocation(0, -15872.0, 11008.0)
DefineStartLocation(1, -15872.0, 11008.0)
DefineStartLocation(2, -15872.0, 11008.0)
DefineStartLocation(3, -15872.0, 11008.0)
DefineStartLocation(4, -15872.0, 11008.0)
DefineStartLocation(5, -15872.0, 11008.0)
DefineStartLocation(6, -15872.0, 11008.0)
DefineStartLocation(7, -15872.0, 11008.0)
DefineStartLocation(8, -15872.0, 11008.0)
DefineStartLocation(9, -15872.0, 11008.0)
DefineStartLocation(10, -15808.0, 11008.0)
DefineStartLocation(11, -15872.0, 11008.0)
DefineStartLocation(12, -15872.0, 11008.0)
DefineStartLocation(13, -15872.0, 11008.0)
DefineStartLocation(14, -15872.0, 11008.0)
DefineStartLocation(15, -15872.0, 11008.0)
DefineStartLocation(16, -15872.0, 11008.0)
DefineStartLocation(17, -15872.0, 11008.0)
DefineStartLocation(18, -15872.0, 11008.0)
DefineStartLocation(19, -15872.0, 11008.0)
InitCustomPlayerSlots()
InitCustomTeams()
InitAllyPriorities()
end

